"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/socks@2.7.1";
exports.ids = ["vendor-chunks/socks@2.7.1"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/client/socksclient.js":
/*!*******************************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/client/socksclient.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __awaiter = (void 0) && (void 0).__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.SocksClientError = exports.SocksClient = void 0;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst ip = __webpack_require__(/*! ip */ \"(rsc)/../../node_modules/.pnpm/ip@2.0.0/node_modules/ip/lib/ip.js\");\nconst smart_buffer_1 = __webpack_require__(/*! smart-buffer */ \"(rsc)/../../node_modules/.pnpm/smart-buffer@4.2.0/node_modules/smart-buffer/build/smartbuffer.js\");\nconst constants_1 = __webpack_require__(/*! ../common/constants */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/constants.js\");\nconst helpers_1 = __webpack_require__(/*! ../common/helpers */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/helpers.js\");\nconst receivebuffer_1 = __webpack_require__(/*! ../common/receivebuffer */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/receivebuffer.js\");\nconst util_1 = __webpack_require__(/*! ../common/util */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/util.js\");\nObject.defineProperty(exports, \"SocksClientError\", ({\n    enumerable: true,\n    get: function() {\n        return util_1.SocksClientError;\n    }\n}));\nclass SocksClient extends events_1.EventEmitter {\n    constructor(options){\n        super();\n        this.options = Object.assign({}, options);\n        // Validate SocksClientOptions\n        (0, helpers_1.validateSocksClientOptions)(options);\n        // Default state\n        this.setState(constants_1.SocksClientState.Created);\n    }\n    /**\n     * Creates a new SOCKS connection.\n     *\n     * Note: Supports callbacks and promises. Only supports the connect command.\n     * @param options { SocksClientOptions } Options.\n     * @param callback { Function } An optional callback function.\n     * @returns { Promise }\n     */ static createConnection(options, callback) {\n        return new Promise((resolve, reject)=>{\n            // Validate SocksClientOptions\n            try {\n                (0, helpers_1.validateSocksClientOptions)(options, [\n                    \"connect\"\n                ]);\n            } catch (err) {\n                if (typeof callback === \"function\") {\n                    callback(err);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return resolve(err); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    return reject(err);\n                }\n            }\n            const client = new SocksClient(options);\n            client.connect(options.existing_socket);\n            client.once(\"established\", (info)=>{\n                client.removeAllListeners();\n                if (typeof callback === \"function\") {\n                    callback(null, info);\n                    resolve(info); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    resolve(info);\n                }\n            });\n            // Error occurred, failed to establish connection.\n            client.once(\"error\", (err)=>{\n                client.removeAllListeners();\n                if (typeof callback === \"function\") {\n                    callback(err);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    resolve(err); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    }\n    /**\n     * Creates a new SOCKS connection chain to a destination host through 2 or more SOCKS proxies.\n     *\n     * Note: Supports callbacks and promises. Only supports the connect method.\n     * Note: Implemented via createConnection() factory function.\n     * @param options { SocksClientChainOptions } Options\n     * @param callback { Function } An optional callback function.\n     * @returns { Promise }\n     */ static createConnectionChain(options, callback) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise((resolve, reject)=>__awaiter(this, void 0, void 0, function*() {\n                // Validate SocksClientChainOptions\n                try {\n                    (0, helpers_1.validateSocksClientChainOptions)(options);\n                } catch (err) {\n                    if (typeof callback === \"function\") {\n                        callback(err);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        return resolve(err); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        return reject(err);\n                    }\n                }\n                // Shuffle proxies\n                if (options.randomizeChain) {\n                    (0, util_1.shuffleArray)(options.proxies);\n                }\n                try {\n                    let sock;\n                    for(let i = 0; i < options.proxies.length; i++){\n                        const nextProxy = options.proxies[i];\n                        // If we've reached the last proxy in the chain, the destination is the actual destination, otherwise it's the next proxy.\n                        const nextDestination = i === options.proxies.length - 1 ? options.destination : {\n                            host: options.proxies[i + 1].host || options.proxies[i + 1].ipaddress,\n                            port: options.proxies[i + 1].port\n                        };\n                        // Creates the next connection in the chain.\n                        const result = yield SocksClient.createConnection({\n                            command: \"connect\",\n                            proxy: nextProxy,\n                            destination: nextDestination,\n                            existing_socket: sock\n                        });\n                        // If sock is undefined, assign it here.\n                        sock = sock || result.socket;\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(null, {\n                            socket: sock\n                        });\n                        resolve({\n                            socket: sock\n                        }); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        resolve({\n                            socket: sock\n                        });\n                    }\n                } catch (err) {\n                    if (typeof callback === \"function\") {\n                        callback(err);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        resolve(err); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        reject(err);\n                    }\n                }\n            }));\n    }\n    /**\n     * Creates a SOCKS UDP Frame.\n     * @param options\n     */ static createUDPFrame(options) {\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt16BE(0);\n        buff.writeUInt8(options.frameNumber || 0);\n        // IPv4/IPv6/Hostname\n        if (net.isIPv4(options.remoteHost.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv4);\n            buff.writeUInt32BE(ip.toLong(options.remoteHost.host));\n        } else if (net.isIPv6(options.remoteHost.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv6);\n            buff.writeBuffer(ip.toBuffer(options.remoteHost.host));\n        } else {\n            buff.writeUInt8(constants_1.Socks5HostType.Hostname);\n            buff.writeUInt8(Buffer.byteLength(options.remoteHost.host));\n            buff.writeString(options.remoteHost.host);\n        }\n        // Port\n        buff.writeUInt16BE(options.remoteHost.port);\n        // Data\n        buff.writeBuffer(options.data);\n        return buff.toBuffer();\n    }\n    /**\n     * Parses a SOCKS UDP frame.\n     * @param data\n     */ static parseUDPFrame(data) {\n        const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n        buff.readOffset = 2;\n        const frameNumber = buff.readUInt8();\n        const hostType = buff.readUInt8();\n        let remoteHost;\n        if (hostType === constants_1.Socks5HostType.IPv4) {\n            remoteHost = ip.fromLong(buff.readUInt32BE());\n        } else if (hostType === constants_1.Socks5HostType.IPv6) {\n            remoteHost = ip.toString(buff.readBuffer(16));\n        } else {\n            remoteHost = buff.readString(buff.readUInt8());\n        }\n        const remotePort = buff.readUInt16BE();\n        return {\n            frameNumber,\n            remoteHost: {\n                host: remoteHost,\n                port: remotePort\n            },\n            data: buff.readBuffer()\n        };\n    }\n    /**\n     * Internal state setter. If the SocksClient is in an error state, it cannot be changed to a non error state.\n     */ setState(newState) {\n        if (this.state !== constants_1.SocksClientState.Error) {\n            this.state = newState;\n        }\n    }\n    /**\n     * Starts the connection establishment to the proxy and destination.\n     * @param existingSocket Connected socket to use instead of creating a new one (internal use).\n     */ connect(existingSocket) {\n        this.onDataReceived = (data)=>this.onDataReceivedHandler(data);\n        this.onClose = ()=>this.onCloseHandler();\n        this.onError = (err)=>this.onErrorHandler(err);\n        this.onConnect = ()=>this.onConnectHandler();\n        // Start timeout timer (defaults to 30 seconds)\n        const timer = setTimeout(()=>this.onEstablishedTimeout(), this.options.timeout || constants_1.DEFAULT_TIMEOUT);\n        // check whether unref is available as it differs from browser to NodeJS (#33)\n        if (timer.unref && typeof timer.unref === \"function\") {\n            timer.unref();\n        }\n        // If an existing socket is provided, use it to negotiate SOCKS handshake. Otherwise create a new Socket.\n        if (existingSocket) {\n            this.socket = existingSocket;\n        } else {\n            this.socket = new net.Socket();\n        }\n        // Attach Socket error handlers.\n        this.socket.once(\"close\", this.onClose);\n        this.socket.once(\"error\", this.onError);\n        this.socket.once(\"connect\", this.onConnect);\n        this.socket.on(\"data\", this.onDataReceived);\n        this.setState(constants_1.SocksClientState.Connecting);\n        this.receiveBuffer = new receivebuffer_1.ReceiveBuffer();\n        if (existingSocket) {\n            this.socket.emit(\"connect\");\n        } else {\n            this.socket.connect(this.getSocketOptions());\n            if (this.options.set_tcp_nodelay !== undefined && this.options.set_tcp_nodelay !== null) {\n                this.socket.setNoDelay(!!this.options.set_tcp_nodelay);\n            }\n        }\n        // Listen for established event so we can re-emit any excess data received during handshakes.\n        this.prependOnceListener(\"established\", (info)=>{\n            setImmediate(()=>{\n                if (this.receiveBuffer.length > 0) {\n                    const excessData = this.receiveBuffer.get(this.receiveBuffer.length);\n                    info.socket.emit(\"data\", excessData);\n                }\n                info.socket.resume();\n            });\n        });\n    }\n    // Socket options (defaults host/port to options.proxy.host/options.proxy.port)\n    getSocketOptions() {\n        return Object.assign(Object.assign({}, this.options.socket_options), {\n            host: this.options.proxy.host || this.options.proxy.ipaddress,\n            port: this.options.proxy.port\n        });\n    }\n    /**\n     * Handles internal Socks timeout callback.\n     * Note: If the Socks client is not BoundWaitingForConnection or Established, the connection will be closed.\n     */ onEstablishedTimeout() {\n        if (this.state !== constants_1.SocksClientState.Established && this.state !== constants_1.SocksClientState.BoundWaitingForConnection) {\n            this.closeSocket(constants_1.ERRORS.ProxyConnectionTimedOut);\n        }\n    }\n    /**\n     * Handles Socket connect event.\n     */ onConnectHandler() {\n        this.setState(constants_1.SocksClientState.Connected);\n        // Send initial handshake.\n        if (this.options.proxy.type === 4) {\n            this.sendSocks4InitialHandshake();\n        } else {\n            this.sendSocks5InitialHandshake();\n        }\n        this.setState(constants_1.SocksClientState.SentInitialHandshake);\n    }\n    /**\n     * Handles Socket data event.\n     * @param data\n     */ onDataReceivedHandler(data) {\n        /*\n          All received data is appended to a ReceiveBuffer.\n          This makes sure that all the data we need is received before we attempt to process it.\n        */ this.receiveBuffer.append(data);\n        // Process data that we have.\n        this.processData();\n    }\n    /**\n     * Handles processing of the data we have received.\n     */ processData() {\n        // If we have enough data to process the next step in the SOCKS handshake, proceed.\n        while(this.state !== constants_1.SocksClientState.Established && this.state !== constants_1.SocksClientState.Error && this.receiveBuffer.length >= this.nextRequiredPacketBufferSize){\n            // Sent initial handshake, waiting for response.\n            if (this.state === constants_1.SocksClientState.SentInitialHandshake) {\n                if (this.options.proxy.type === 4) {\n                    // Socks v4 only has one handshake response.\n                    this.handleSocks4FinalHandshakeResponse();\n                } else {\n                    // Socks v5 has two handshakes, handle initial one here.\n                    this.handleInitialSocks5HandshakeResponse();\n                }\n            // Sent auth request for Socks v5, waiting for response.\n            } else if (this.state === constants_1.SocksClientState.SentAuthentication) {\n                this.handleInitialSocks5AuthenticationHandshakeResponse();\n            // Sent final Socks v5 handshake, waiting for final response.\n            } else if (this.state === constants_1.SocksClientState.SentFinalHandshake) {\n                this.handleSocks5FinalHandshakeResponse();\n            // Socks BIND established. Waiting for remote connection via proxy.\n            } else if (this.state === constants_1.SocksClientState.BoundWaitingForConnection) {\n                if (this.options.proxy.type === 4) {\n                    this.handleSocks4IncomingConnectionResponse();\n                } else {\n                    this.handleSocks5IncomingConnectionResponse();\n                }\n            } else {\n                this.closeSocket(constants_1.ERRORS.InternalError);\n                break;\n            }\n        }\n    }\n    /**\n     * Handles Socket close event.\n     * @param had_error\n     */ onCloseHandler() {\n        this.closeSocket(constants_1.ERRORS.SocketClosed);\n    }\n    /**\n     * Handles Socket error event.\n     * @param err\n     */ onErrorHandler(err) {\n        this.closeSocket(err.message);\n    }\n    /**\n     * Removes internal event listeners on the underlying Socket.\n     */ removeInternalSocketHandlers() {\n        // Pauses data flow of the socket (this is internally resumed after 'established' is emitted)\n        this.socket.pause();\n        this.socket.removeListener(\"data\", this.onDataReceived);\n        this.socket.removeListener(\"close\", this.onClose);\n        this.socket.removeListener(\"error\", this.onError);\n        this.socket.removeListener(\"connect\", this.onConnect);\n    }\n    /**\n     * Closes and destroys the underlying Socket. Emits an error event.\n     * @param err { String } An error string to include in error event.\n     */ closeSocket(err) {\n        // Make sure only one 'error' event is fired for the lifetime of this SocksClient instance.\n        if (this.state !== constants_1.SocksClientState.Error) {\n            // Set internal state to Error.\n            this.setState(constants_1.SocksClientState.Error);\n            // Destroy Socket\n            this.socket.destroy();\n            // Remove internal listeners\n            this.removeInternalSocketHandlers();\n            // Fire 'error' event.\n            this.emit(\"error\", new util_1.SocksClientError(err, this.options));\n        }\n    }\n    /**\n     * Sends initial Socks v4 handshake request.\n     */ sendSocks4InitialHandshake() {\n        const userId = this.options.proxy.userId || \"\";\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x04);\n        buff.writeUInt8(constants_1.SocksCommand[this.options.command]);\n        buff.writeUInt16BE(this.options.destination.port);\n        // Socks 4 (IPv4)\n        if (net.isIPv4(this.options.destination.host)) {\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n            buff.writeStringNT(userId);\n        // Socks 4a (hostname)\n        } else {\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x01);\n            buff.writeStringNT(userId);\n            buff.writeStringNT(this.options.destination.host);\n        }\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks4Response;\n        this.socket.write(buff.toBuffer());\n    }\n    /**\n     * Handles Socks v4 handshake response.\n     * @param data\n     */ handleSocks4FinalHandshakeResponse() {\n        const data = this.receiveBuffer.get(8);\n        if (data[1] !== constants_1.Socks4Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks4ProxyRejectedConnection} - (${constants_1.Socks4Response[data[1]]})`);\n        } else {\n            // Bind response\n            if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.bind) {\n                const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n                buff.readOffset = 2;\n                const remoteHost = {\n                    port: buff.readUInt16BE(),\n                    host: ip.fromLong(buff.readUInt32BE())\n                };\n                // If host is 0.0.0.0, set to proxy host.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n                this.setState(constants_1.SocksClientState.BoundWaitingForConnection);\n                this.emit(\"bound\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            // Connect response\n            } else {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    socket: this.socket\n                });\n            }\n        }\n    }\n    /**\n     * Handles Socks v4 incoming connection request (BIND)\n     * @param data\n     */ handleSocks4IncomingConnectionResponse() {\n        const data = this.receiveBuffer.get(8);\n        if (data[1] !== constants_1.Socks4Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${constants_1.Socks4Response[data[1]]})`);\n        } else {\n            const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n            buff.readOffset = 2;\n            const remoteHost = {\n                port: buff.readUInt16BE(),\n                host: ip.fromLong(buff.readUInt32BE())\n            };\n            this.setState(constants_1.SocksClientState.Established);\n            this.removeInternalSocketHandlers();\n            this.emit(\"established\", {\n                remoteHost,\n                socket: this.socket\n            });\n        }\n    }\n    /**\n     * Sends initial Socks v5 handshake request.\n     */ sendSocks5InitialHandshake() {\n        const buff = new smart_buffer_1.SmartBuffer();\n        // By default we always support no auth.\n        const supportedAuthMethods = [\n            constants_1.Socks5Auth.NoAuth\n        ];\n        // We should only tell the proxy we support user/pass auth if auth info is actually provided.\n        // Note: As of Tor v0.3.5.7+, if user/pass auth is an option from the client, by default it will always take priority.\n        if (this.options.proxy.userId || this.options.proxy.password) {\n            supportedAuthMethods.push(constants_1.Socks5Auth.UserPass);\n        }\n        // Custom auth method?\n        if (this.options.proxy.custom_auth_method !== undefined) {\n            supportedAuthMethods.push(this.options.proxy.custom_auth_method);\n        }\n        // Build handshake packet\n        buff.writeUInt8(0x05);\n        buff.writeUInt8(supportedAuthMethods.length);\n        for (const authMethod of supportedAuthMethods){\n            buff.writeUInt8(authMethod);\n        }\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentInitialHandshake);\n    }\n    /**\n     * Handles initial Socks v5 handshake response.\n     * @param data\n     */ handleInitialSocks5HandshakeResponse() {\n        const data = this.receiveBuffer.get(2);\n        if (data[0] !== 0x05) {\n            this.closeSocket(constants_1.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);\n        } else if (data[1] === constants_1.SOCKS5_NO_ACCEPTABLE_AUTH) {\n            this.closeSocket(constants_1.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);\n        } else {\n            // If selected Socks v5 auth method is no auth, send final handshake request.\n            if (data[1] === constants_1.Socks5Auth.NoAuth) {\n                this.socks5ChosenAuthType = constants_1.Socks5Auth.NoAuth;\n                this.sendSocks5CommandRequest();\n            // If selected Socks v5 auth method is user/password, send auth handshake.\n            } else if (data[1] === constants_1.Socks5Auth.UserPass) {\n                this.socks5ChosenAuthType = constants_1.Socks5Auth.UserPass;\n                this.sendSocks5UserPassAuthentication();\n            // If selected Socks v5 auth method is the custom_auth_method, send custom handshake.\n            } else if (data[1] === this.options.proxy.custom_auth_method) {\n                this.socks5ChosenAuthType = this.options.proxy.custom_auth_method;\n                this.sendSocks5CustomAuthentication();\n            } else {\n                this.closeSocket(constants_1.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType);\n            }\n        }\n    }\n    /**\n     * Sends Socks v5 user & password auth handshake.\n     *\n     * Note: No auth and user/pass are currently supported.\n     */ sendSocks5UserPassAuthentication() {\n        const userId = this.options.proxy.userId || \"\";\n        const password = this.options.proxy.password || \"\";\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x01);\n        buff.writeUInt8(Buffer.byteLength(userId));\n        buff.writeString(userId);\n        buff.writeUInt8(Buffer.byteLength(password));\n        buff.writeString(password);\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentAuthentication);\n    }\n    sendSocks5CustomAuthentication() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this.nextRequiredPacketBufferSize = this.options.proxy.custom_auth_response_size;\n            this.socket.write((yield this.options.proxy.custom_auth_request_handler()));\n            this.setState(constants_1.SocksClientState.SentAuthentication);\n        });\n    }\n    handleSocks5CustomAuthHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield this.options.proxy.custom_auth_response_handler(data);\n        });\n    }\n    handleSocks5AuthenticationNoAuthHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return data[1] === 0x00;\n        });\n    }\n    handleSocks5AuthenticationUserPassHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return data[1] === 0x00;\n        });\n    }\n    /**\n     * Handles Socks v5 auth handshake response.\n     * @param data\n     */ handleInitialSocks5AuthenticationHandshakeResponse() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this.setState(constants_1.SocksClientState.ReceivedAuthenticationResponse);\n            let authResult = false;\n            if (this.socks5ChosenAuthType === constants_1.Socks5Auth.NoAuth) {\n                authResult = yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));\n            } else if (this.socks5ChosenAuthType === constants_1.Socks5Auth.UserPass) {\n                authResult = yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));\n            } else if (this.socks5ChosenAuthType === this.options.proxy.custom_auth_method) {\n                authResult = yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));\n            }\n            if (!authResult) {\n                this.closeSocket(constants_1.ERRORS.Socks5AuthenticationFailed);\n            } else {\n                this.sendSocks5CommandRequest();\n            }\n        });\n    }\n    /**\n     * Sends Socks v5 final handshake request.\n     */ sendSocks5CommandRequest() {\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x05);\n        buff.writeUInt8(constants_1.SocksCommand[this.options.command]);\n        buff.writeUInt8(0x00);\n        // ipv4, ipv6, domain?\n        if (net.isIPv4(this.options.destination.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv4);\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n        } else if (net.isIPv6(this.options.destination.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv6);\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n        } else {\n            buff.writeUInt8(constants_1.Socks5HostType.Hostname);\n            buff.writeUInt8(this.options.destination.host.length);\n            buff.writeString(this.options.destination.host);\n        }\n        buff.writeUInt16BE(this.options.destination.port);\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentFinalHandshake);\n    }\n    /**\n     * Handles Socks v5 final handshake response.\n     * @param data\n     */ handleSocks5FinalHandshakeResponse() {\n        // Peek at available data (we need at least 5 bytes to get the hostname length)\n        const header = this.receiveBuffer.peek(5);\n        if (header[0] !== 0x05 || header[1] !== constants_1.Socks5Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${constants_1.Socks5Response[header[1]]}`);\n        } else {\n            // Read address type\n            const addressType = header[3];\n            let remoteHost;\n            let buff;\n            // IPv4\n            if (addressType === constants_1.Socks5HostType.IPv4) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.fromLong(buff.readUInt32BE()),\n                    port: buff.readUInt16BE()\n                };\n                // If given host is 0.0.0.0, assume remote proxy ip instead.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n            // Hostname\n            } else if (addressType === constants_1.Socks5HostType.Hostname) {\n                const hostLength = header[4];\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(hostLength); // header + host length + host + port\n                // Check if data is available.\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(5));\n                remoteHost = {\n                    host: buff.readString(hostLength),\n                    port: buff.readUInt16BE()\n                };\n            // IPv6\n            } else if (addressType === constants_1.Socks5HostType.IPv6) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.toString(buff.readBuffer(16)),\n                    port: buff.readUInt16BE()\n                };\n            }\n            // We have everything we need\n            this.setState(constants_1.SocksClientState.ReceivedFinalResponse);\n            // If using CONNECT, the client is now in the established state.\n            if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.connect) {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            } else if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.bind) {\n                /* If using BIND, the Socks client is now in BoundWaitingForConnection state.\n                   This means that the remote proxy server is waiting for a remote connection to the bound port. */ this.setState(constants_1.SocksClientState.BoundWaitingForConnection);\n                this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader;\n                this.emit(\"bound\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            /*\n                  If using Associate, the Socks client is now Established. And the proxy server is now accepting UDP packets at the\n                  given bound port. This initial Socks TCP connection must remain open for the UDP relay to continue to work.\n                */ } else if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.associate) {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            }\n        }\n    }\n    /**\n     * Handles Socks v5 incoming connection request (BIND).\n     */ handleSocks5IncomingConnectionResponse() {\n        // Peek at available data (we need at least 5 bytes to get the hostname length)\n        const header = this.receiveBuffer.peek(5);\n        if (header[0] !== 0x05 || header[1] !== constants_1.Socks5Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${constants_1.Socks5Response[header[1]]}`);\n        } else {\n            // Read address type\n            const addressType = header[3];\n            let remoteHost;\n            let buff;\n            // IPv4\n            if (addressType === constants_1.Socks5HostType.IPv4) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.fromLong(buff.readUInt32BE()),\n                    port: buff.readUInt16BE()\n                };\n                // If given host is 0.0.0.0, assume remote proxy ip instead.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n            // Hostname\n            } else if (addressType === constants_1.Socks5HostType.Hostname) {\n                const hostLength = header[4];\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(hostLength); // header + host length + port\n                // Check if data is available.\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(5));\n                remoteHost = {\n                    host: buff.readString(hostLength),\n                    port: buff.readUInt16BE()\n                };\n            // IPv6\n            } else if (addressType === constants_1.Socks5HostType.IPv6) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.toString(buff.readBuffer(16)),\n                    port: buff.readUInt16BE()\n                };\n            }\n            this.setState(constants_1.SocksClientState.Established);\n            this.removeInternalSocketHandlers();\n            this.emit(\"established\", {\n                remoteHost,\n                socket: this.socket\n            });\n        }\n    }\n    get socksClientOptions() {\n        return Object.assign({}, this.options);\n    }\n}\nexports.SocksClient = SocksClient; //# sourceMappingURL=socksclient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jbGllbnQvc29ja3NjbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxZQUFZLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNBTyw4Q0FBNkM7SUFBRWIsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RGUsd0JBQXdCLEdBQUdBLG1CQUFtQixHQUFHLEtBQUs7QUFDdEQsTUFBTUcs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RyxnQkFBZ0JoTCxZQUFZZ0QsY0FBYyxDQUFDSyxJQUFJLEVBQUU7Z0JBQ3RELDhCQUE4QjtnQkFDOUIsTUFBTTRILGFBQWFqTCxZQUFZeUksMkJBQTJCLENBQUM2QyxrQkFBa0I7Z0JBQzdFLElBQUksSUFBSSxDQUFDeEYsYUFBYSxDQUFDaEUsTUFBTSxHQUFHbUosWUFBWTtvQkFDeEMsSUFBSSxDQUFDM0QsNEJBQTRCLEdBQUcyRDtvQkFDcEM7Z0JBQ0o7Z0JBQ0F4SSxPQUFPMUMsZUFBZTJDLFdBQVcsQ0FBQ29CLFVBQVUsQ0FBQyxJQUFJLENBQUNnQyxhQUFhLENBQUN6RixHQUFHLENBQUM0SyxZQUFZRSxLQUFLLENBQUM7Z0JBQ3RGcEksYUFBYTtvQkFDVGIsTUFBTXBDLEdBQUdzRSxRQUFRLENBQUMzQixLQUFLNEIsVUFBVSxDQUFDO29CQUNsQ2pDLE1BQU1LLEtBQUsrQixZQUFZO2dCQUMzQjtZQUNKO1lBQ0EsSUFBSSxDQUFDN0QsUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQzhGLFdBQVc7WUFDdEQsSUFBSSxDQUFDd0IsNEJBQTRCO1lBQ2pDLElBQUksQ0FBQ2xDLElBQUksQ0FBQyxlQUFlO2dCQUFFakQ7Z0JBQVlSLFFBQVEsSUFBSSxDQUFDQSxNQUFNO1lBQUM7UUFDL0Q7SUFDSjtJQUNBLElBQUltSixxQkFBcUI7UUFDckIsT0FBT3BNLE9BQU9tQixNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQ0QsT0FBTztJQUN6QztBQUNKO0FBQ0FoQixtQkFBbUIsR0FBR0UsYUFDdEIsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zb2Nrc0AyLjcuMS9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY2xpZW50L3NvY2tzY2xpZW50LmpzPzBjYzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU29ja3NDbGllbnRFcnJvciA9IGV4cG9ydHMuU29ja3NDbGllbnQgPSB2b2lkIDA7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBuZXQgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgaXAgPSByZXF1aXJlKFwiaXBcIik7XG5jb25zdCBzbWFydF9idWZmZXJfMSA9IHJlcXVpcmUoXCJzbWFydC1idWZmZXJcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29uc3RhbnRzXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9oZWxwZXJzXCIpO1xuY29uc3QgcmVjZWl2ZWJ1ZmZlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9yZWNlaXZlYnVmZmVyXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi91dGlsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU29ja3NDbGllbnRFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3I7IH0gfSk7XG5jbGFzcyBTb2Nrc0NsaWVudCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gVmFsaWRhdGUgU29ja3NDbGllbnRPcHRpb25zXG4gICAgICAgICgwLCBoZWxwZXJzXzEudmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMpKG9wdGlvbnMpO1xuICAgICAgICAvLyBEZWZhdWx0IHN0YXRlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5DcmVhdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBTT0NLUyBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogTm90ZTogU3VwcG9ydHMgY2FsbGJhY2tzIGFuZCBwcm9taXNlcy4gT25seSBzdXBwb3J0cyB0aGUgY29ubmVjdCBjb21tYW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIHsgU29ja3NDbGllbnRPcHRpb25zIH0gT3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgeyBGdW5jdGlvbiB9IEFuIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHsgUHJvbWlzZSB9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUNvbm5lY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIFNvY2tzQ2xpZW50T3B0aW9uc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoMCwgaGVscGVyc18xLnZhbGlkYXRlU29ja3NDbGllbnRPcHRpb25zKShvcHRpb25zLCBbJ2Nvbm5lY3QnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlcnIpOyAvLyBSZXNvbHZlcyBwZW5kaW5nIHByb21pc2UgKHByZXZlbnRzIG1lbW9yeSBsZWFrcykuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gbmV3IFNvY2tzQ2xpZW50KG9wdGlvbnMpO1xuICAgICAgICAgICAgY2xpZW50LmNvbm5lY3Qob3B0aW9ucy5leGlzdGluZ19zb2NrZXQpO1xuICAgICAgICAgICAgY2xpZW50Lm9uY2UoJ2VzdGFibGlzaGVkJywgKGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBjbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEVycm9yIG9jY3VycmVkLCBmYWlsZWQgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24uXG4gICAgICAgICAgICBjbGllbnQub25jZSgnZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlcnIpOyAvLyBSZXNvbHZlcyBwZW5kaW5nIHByb21pc2UgKHByZXZlbnRzIG1lbW9yeSBsZWFrcykuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU09DS1MgY29ubmVjdGlvbiBjaGFpbiB0byBhIGRlc3RpbmF0aW9uIGhvc3QgdGhyb3VnaCAyIG9yIG1vcmUgU09DS1MgcHJveGllcy5cbiAgICAgKlxuICAgICAqIE5vdGU6IFN1cHBvcnRzIGNhbGxiYWNrcyBhbmQgcHJvbWlzZXMuIE9ubHkgc3VwcG9ydHMgdGhlIGNvbm5lY3QgbWV0aG9kLlxuICAgICAqIE5vdGU6IEltcGxlbWVudGVkIHZpYSBjcmVhdGVDb25uZWN0aW9uKCkgZmFjdG9yeSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7IFNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zIH0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayB7IEZ1bmN0aW9uIH0gQW4gb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMgeyBQcm9taXNlIH1cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlQ29ubmVjdGlvbkNoYWluKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBTb2Nrc0NsaWVudENoYWluT3B0aW9uc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoMCwgaGVscGVyc18xLnZhbGlkYXRlU29ja3NDbGllbnRDaGFpbk9wdGlvbnMpKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZXJyKTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNodWZmbGUgcHJveGllc1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmFuZG9taXplQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICAoMCwgdXRpbF8xLnNodWZmbGVBcnJheSkob3B0aW9ucy5wcm94aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvY2s7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLnByb3hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFByb3h5ID0gb3B0aW9ucy5wcm94aWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoZSBsYXN0IHByb3h5IGluIHRoZSBjaGFpbiwgdGhlIGRlc3RpbmF0aW9uIGlzIHRoZSBhY3R1YWwgZGVzdGluYXRpb24sIG90aGVyd2lzZSBpdCdzIHRoZSBuZXh0IHByb3h5LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0RGVzdGluYXRpb24gPSBpID09PSBvcHRpb25zLnByb3hpZXMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmRlc3RpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBvcHRpb25zLnByb3hpZXNbaSArIDFdLmhvc3QgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wcm94aWVzW2kgKyAxXS5pcGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogb3B0aW9ucy5wcm94aWVzW2kgKyAxXS5wb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlcyB0aGUgbmV4dCBjb25uZWN0aW9uIGluIHRoZSBjaGFpbi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgU29ja3NDbGllbnQuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29ubmVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eTogbmV4dFByb3h5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IG5leHREZXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nX3NvY2tldDogc29jayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNvY2sgaXMgdW5kZWZpbmVkLCBhc3NpZ24gaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgc29jayA9IHNvY2sgfHwgcmVzdWx0LnNvY2tldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7IHNvY2tldDogc29jayB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHNvY2tldDogc29jayB9KTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHNvY2tldDogc29jayB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGVycik7IC8vIFJlc29sdmVzIHBlbmRpbmcgcHJvbWlzZSAocHJldmVudHMgbWVtb3J5IGxlYWtzKS5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgU09DS1MgVURQIEZyYW1lLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVVEUEZyYW1lKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IG5ldyBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlcigpO1xuICAgICAgICBidWZmLndyaXRlVUludDE2QkUoMCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OChvcHRpb25zLmZyYW1lTnVtYmVyIHx8IDApO1xuICAgICAgICAvLyBJUHY0L0lQdjYvSG9zdG5hbWVcbiAgICAgICAgaWYgKG5ldC5pc0lQdjQob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKSB7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoY29uc3RhbnRzXzEuU29ja3M1SG9zdFR5cGUuSVB2NCk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDMyQkUoaXAudG9Mb25nKG9wdGlvbnMucmVtb3RlSG9zdC5ob3N0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV0LmlzSVB2NihvcHRpb25zLnJlbW90ZUhvc3QuaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoQnVmZmVyLmJ5dGVMZW5ndGgob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRcbiAgICAgICAgYnVmZi53cml0ZVVJbnQxNkJFKG9wdGlvbnMucmVtb3RlSG9zdC5wb3J0KTtcbiAgICAgICAgLy8gRGF0YVxuICAgICAgICBidWZmLndyaXRlQnVmZmVyKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIHJldHVybiBidWZmLnRvQnVmZmVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFNPQ0tTIFVEUCBmcmFtZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZVVEUEZyYW1lKGRhdGEpIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIoZGF0YSk7XG4gICAgICAgIGJ1ZmYucmVhZE9mZnNldCA9IDI7XG4gICAgICAgIGNvbnN0IGZyYW1lTnVtYmVyID0gYnVmZi5yZWFkVUludDgoKTtcbiAgICAgICAgY29uc3QgaG9zdFR5cGUgPSBidWZmLnJlYWRVSW50OCgpO1xuICAgICAgICBsZXQgcmVtb3RlSG9zdDtcbiAgICAgICAgaWYgKGhvc3RUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY0KSB7XG4gICAgICAgICAgICByZW1vdGVIb3N0ID0gaXAuZnJvbUxvbmcoYnVmZi5yZWFkVUludDMyQkUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9zdFR5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjYpIHtcbiAgICAgICAgICAgIHJlbW90ZUhvc3QgPSBpcC50b1N0cmluZyhidWZmLnJlYWRCdWZmZXIoMTYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW90ZUhvc3QgPSBidWZmLnJlYWRTdHJpbmcoYnVmZi5yZWFkVUludDgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3RlUG9ydCA9IGJ1ZmYucmVhZFVJbnQxNkJFKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcmFtZU51bWJlcixcbiAgICAgICAgICAgIHJlbW90ZUhvc3Q6IHtcbiAgICAgICAgICAgICAgICBob3N0OiByZW1vdGVIb3N0LFxuICAgICAgICAgICAgICAgIHBvcnQ6IHJlbW90ZVBvcnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YTogYnVmZi5yZWFkQnVmZmVyKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHN0YXRlIHNldHRlci4gSWYgdGhlIFNvY2tzQ2xpZW50IGlzIGluIGFuIGVycm9yIHN0YXRlLCBpdCBjYW5ub3QgYmUgY2hhbmdlZCB0byBhIG5vbiBlcnJvciBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50IHRvIHRoZSBwcm94eSBhbmQgZGVzdGluYXRpb24uXG4gICAgICogQHBhcmFtIGV4aXN0aW5nU29ja2V0IENvbm5lY3RlZCBzb2NrZXQgdG8gdXNlIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lIChpbnRlcm5hbCB1c2UpLlxuICAgICAqL1xuICAgIGNvbm5lY3QoZXhpc3RpbmdTb2NrZXQpIHtcbiAgICAgICAgdGhpcy5vbkRhdGFSZWNlaXZlZCA9IChkYXRhKSA9PiB0aGlzLm9uRGF0YVJlY2VpdmVkSGFuZGxlcihkYXRhKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gKCkgPT4gdGhpcy5vbkNsb3NlSGFuZGxlcigpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSAoZXJyKSA9PiB0aGlzLm9uRXJyb3JIYW5kbGVyKGVycik7XG4gICAgICAgIHRoaXMub25Db25uZWN0ID0gKCkgPT4gdGhpcy5vbkNvbm5lY3RIYW5kbGVyKCk7XG4gICAgICAgIC8vIFN0YXJ0IHRpbWVvdXQgdGltZXIgKGRlZmF1bHRzIHRvIDMwIHNlY29uZHMpXG4gICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLm9uRXN0YWJsaXNoZWRUaW1lb3V0KCksIHRoaXMub3B0aW9ucy50aW1lb3V0IHx8IGNvbnN0YW50c18xLkRFRkFVTFRfVElNRU9VVCk7XG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdW5yZWYgaXMgYXZhaWxhYmxlIGFzIGl0IGRpZmZlcnMgZnJvbSBicm93c2VyIHRvIE5vZGVKUyAoIzMzKVxuICAgICAgICBpZiAodGltZXIudW5yZWYgJiYgdHlwZW9mIHRpbWVyLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGFuIGV4aXN0aW5nIHNvY2tldCBpcyBwcm92aWRlZCwgdXNlIGl0IHRvIG5lZ290aWF0ZSBTT0NLUyBoYW5kc2hha2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgU29ja2V0LlxuICAgICAgICBpZiAoZXhpc3RpbmdTb2NrZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gZXhpc3RpbmdTb2NrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBuZXQuU29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIFNvY2tldCBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5zb2NrZXQub25jZSgnY2xvc2UnLCB0aGlzLm9uQ2xvc2UpO1xuICAgICAgICB0aGlzLnNvY2tldC5vbmNlKCdlcnJvcicsIHRoaXMub25FcnJvcik7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uY2UoJ2Nvbm5lY3QnLCB0aGlzLm9uQ29ubmVjdCk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdkYXRhJywgdGhpcy5vbkRhdGFSZWNlaXZlZCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Db25uZWN0aW5nKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gbmV3IHJlY2VpdmVidWZmZXJfMS5SZWNlaXZlQnVmZmVyKCk7XG4gICAgICAgIGlmIChleGlzdGluZ1NvY2tldCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnY29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY29ubmVjdCh0aGlzLmdldFNvY2tldE9wdGlvbnMoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldF90Y3Bfbm9kZWxheSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldF90Y3Bfbm9kZWxheSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnNldE5vRGVsYXkoISF0aGlzLm9wdGlvbnMuc2V0X3RjcF9ub2RlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVzdGFibGlzaGVkIGV2ZW50IHNvIHdlIGNhbiByZS1lbWl0IGFueSBleGNlc3MgZGF0YSByZWNlaXZlZCBkdXJpbmcgaGFuZHNoYWtlcy5cbiAgICAgICAgdGhpcy5wcmVwZW5kT25jZUxpc3RlbmVyKCdlc3RhYmxpc2hlZCcsIChpbmZvKSA9PiB7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGNlc3NEYXRhID0gdGhpcy5yZWNlaXZlQnVmZmVyLmdldCh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5zb2NrZXQuZW1pdCgnZGF0YScsIGV4Y2Vzc0RhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmZvLnNvY2tldC5yZXN1bWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gU29ja2V0IG9wdGlvbnMgKGRlZmF1bHRzIGhvc3QvcG9ydCB0byBvcHRpb25zLnByb3h5Lmhvc3Qvb3B0aW9ucy5wcm94eS5wb3J0KVxuICAgIGdldFNvY2tldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucy5zb2NrZXRfb3B0aW9ucyksIHsgaG9zdDogdGhpcy5vcHRpb25zLnByb3h5Lmhvc3QgfHwgdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcywgcG9ydDogdGhpcy5vcHRpb25zLnByb3h5LnBvcnQgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgaW50ZXJuYWwgU29ja3MgdGltZW91dCBjYWxsYmFjay5cbiAgICAgKiBOb3RlOiBJZiB0aGUgU29ja3MgY2xpZW50IGlzIG5vdCBCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uIG9yIEVzdGFibGlzaGVkLCB0aGUgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKi9cbiAgICBvbkVzdGFibGlzaGVkVGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuQm91bmRXYWl0aW5nRm9yQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuUHJveHlDb25uZWN0aW9uVGltZWRPdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGNvbm5lY3QgZXZlbnQuXG4gICAgICovXG4gICAgb25Db25uZWN0SGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkNvbm5lY3RlZCk7XG4gICAgICAgIC8vIFNlbmQgaW5pdGlhbCBoYW5kc2hha2UuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkudHlwZSA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M0SW5pdGlhbEhhbmRzaGFrZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M1SW5pdGlhbEhhbmRzaGFrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50SW5pdGlhbEhhbmRzaGFrZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGRhdGEgZXZlbnQuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBvbkRhdGFSZWNlaXZlZEhhbmRsZXIoZGF0YSkge1xuICAgICAgICAvKlxuICAgICAgICAgIEFsbCByZWNlaXZlZCBkYXRhIGlzIGFwcGVuZGVkIHRvIGEgUmVjZWl2ZUJ1ZmZlci5cbiAgICAgICAgICBUaGlzIG1ha2VzIHN1cmUgdGhhdCBhbGwgdGhlIGRhdGEgd2UgbmVlZCBpcyByZWNlaXZlZCBiZWZvcmUgd2UgYXR0ZW1wdCB0byBwcm9jZXNzIGl0LlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuYXBwZW5kKGRhdGEpO1xuICAgICAgICAvLyBQcm9jZXNzIGRhdGEgdGhhdCB3ZSBoYXZlLlxuICAgICAgICB0aGlzLnByb2Nlc3NEYXRhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgcHJvY2Vzc2luZyBvZiB0aGUgZGF0YSB3ZSBoYXZlIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIHByb2Nlc3NEYXRhKCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGVub3VnaCBkYXRhIHRvIHByb2Nlc3MgdGhlIG5leHQgc3RlcCBpbiB0aGUgU09DS1MgaGFuZHNoYWtlLCBwcm9jZWVkLlxuICAgICAgICB3aGlsZSAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Fc3RhYmxpc2hlZCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvciAmJlxuICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA+PSB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIC8vIFNlbnQgaW5pdGlhbCBoYW5kc2hha2UsIHdhaXRpbmcgZm9yIHJlc3BvbnNlLlxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuU2VudEluaXRpYWxIYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb3h5LnR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29ja3MgdjQgb25seSBoYXMgb25lIGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczRGaW5hbEhhbmRzaGFrZVJlc3BvbnNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBTb2NrcyB2NSBoYXMgdHdvIGhhbmRzaGFrZXMsIGhhbmRsZSBpbml0aWFsIG9uZSBoZXJlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxTb2NrczVIYW5kc2hha2VSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZW50IGF1dGggcmVxdWVzdCBmb3IgU29ja3MgdjUsIHdhaXRpbmcgZm9yIHJlc3BvbnNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50QXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxTb2NrczVBdXRoZW50aWNhdGlvbkhhbmRzaGFrZVJlc3BvbnNlKCk7XG4gICAgICAgICAgICAgICAgLy8gU2VudCBmaW5hbCBTb2NrcyB2NSBoYW5kc2hha2UsIHdhaXRpbmcgZm9yIGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50RmluYWxIYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBTb2NrcyBCSU5EIGVzdGFibGlzaGVkLiBXYWl0aW5nIGZvciByZW1vdGUgY29ubmVjdGlvbiB2aWEgcHJveHkuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb3h5LnR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczRJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczVJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTb2NrZXQoY29uc3RhbnRzXzEuRVJST1JTLkludGVybmFsRXJyb3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGNsb3NlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBoYWRfZXJyb3JcbiAgICAgKi9cbiAgICBvbkNsb3NlSGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuU29ja2V0Q2xvc2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBTb2NrZXQgZXJyb3IgZXZlbnQuXG4gICAgICogQHBhcmFtIGVyclxuICAgICAqL1xuICAgIG9uRXJyb3JIYW5kbGVyKGVycikge1xuICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGVyci5tZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnMgb24gdGhlIHVuZGVybHlpbmcgU29ja2V0LlxuICAgICAqL1xuICAgIHJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKSB7XG4gICAgICAgIC8vIFBhdXNlcyBkYXRhIGZsb3cgb2YgdGhlIHNvY2tldCAodGhpcyBpcyBpbnRlcm5hbGx5IHJlc3VtZWQgYWZ0ZXIgJ2VzdGFibGlzaGVkJyBpcyBlbWl0dGVkKVxuICAgICAgICB0aGlzLnNvY2tldC5wYXVzZSgpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHRoaXMub25EYXRhUmVjZWl2ZWQpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCB0aGlzLm9uQ2xvc2UpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uRXJyb3IpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignY29ubmVjdCcsIHRoaXMub25Db25uZWN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFuZCBkZXN0cm95cyB0aGUgdW5kZXJseWluZyBTb2NrZXQuIEVtaXRzIGFuIGVycm9yIGV2ZW50LlxuICAgICAqIEBwYXJhbSBlcnIgeyBTdHJpbmcgfSBBbiBlcnJvciBzdHJpbmcgdG8gaW5jbHVkZSBpbiBlcnJvciBldmVudC5cbiAgICAgKi9cbiAgICBjbG9zZVNvY2tldChlcnIpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIG9ubHkgb25lICdlcnJvcicgZXZlbnQgaXMgZmlyZWQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGlzIFNvY2tzQ2xpZW50IGluc3RhbmNlLlxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvcikge1xuICAgICAgICAgICAgLy8gU2V0IGludGVybmFsIHN0YXRlIHRvIEVycm9yLlxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVycm9yKTtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgU29ja2V0XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5kZXN0cm95KCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgaW50ZXJuYWwgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIC8vIEZpcmUgJ2Vycm9yJyBldmVudC5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoZXJyLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBpbml0aWFsIFNvY2tzIHY0IGhhbmRzaGFrZSByZXF1ZXN0LlxuICAgICAqL1xuICAgIHNlbmRTb2NrczRJbml0aWFsSGFuZHNoYWtlKCkge1xuICAgICAgICBjb25zdCB1c2VySWQgPSB0aGlzLm9wdGlvbnMucHJveHkudXNlcklkIHx8ICcnO1xuICAgICAgICBjb25zdCBidWZmID0gbmV3IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyKCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OCgweDA0KTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0pO1xuICAgICAgICBidWZmLndyaXRlVUludDE2QkUodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLnBvcnQpO1xuICAgICAgICAvLyBTb2NrcyA0IChJUHY0KVxuICAgICAgICBpZiAobmV0LmlzSVB2NCh0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24uaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmdOVCh1c2VySWQpO1xuICAgICAgICAgICAgLy8gU29ja3MgNGEgKGhvc3RuYW1lKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDEpO1xuICAgICAgICAgICAgYnVmZi53cml0ZVN0cmluZ05UKHVzZXJJZCk7XG4gICAgICAgICAgICBidWZmLndyaXRlU3RyaW5nTlQodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M0UmVzcG9uc2U7XG4gICAgICAgIHRoaXMuc29ja2V0LndyaXRlKGJ1ZmYudG9CdWZmZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjQgaGFuZHNoYWtlIHJlc3BvbnNlLlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgaGFuZGxlU29ja3M0RmluYWxIYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoOCk7XG4gICAgICAgIGlmIChkYXRhWzFdICE9PSBjb25zdGFudHNfMS5Tb2NrczRSZXNwb25zZS5HcmFudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGAke2NvbnN0YW50c18xLkVSUk9SUy5Tb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbn0gLSAoJHtjb25zdGFudHNfMS5Tb2NrczRSZXNwb25zZVtkYXRhWzFdXX0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBCaW5kIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoY29uc3RhbnRzXzEuU29ja3NDb21tYW5kW3RoaXMub3B0aW9ucy5jb21tYW5kXSA9PT0gY29uc3RhbnRzXzEuU29ja3NDb21tYW5kLmJpbmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcihkYXRhKTtcbiAgICAgICAgICAgICAgICBidWZmLnJlYWRPZmZzZXQgPSAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IGlwLmZyb21Mb25nKGJ1ZmYucmVhZFVJbnQzMkJFKCkpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gSWYgaG9zdCBpcyAwLjAuMC4wLCBzZXQgdG8gcHJveHkgaG9zdC5cbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlSG9zdC5ob3N0ID09PSAnMC4wLjAuMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSG9zdC5ob3N0ID0gdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYm91bmQnLCB7IHJlbW90ZUhvc3QsIHNvY2tldDogdGhpcy5zb2NrZXQgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ29ubmVjdCByZXNwb25zZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVzdGFibGlzaGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjQgaW5jb21pbmcgY29ubmVjdGlvbiByZXF1ZXN0IChCSU5EKVxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgaGFuZGxlU29ja3M0SW5jb21pbmdDb25uZWN0aW9uUmVzcG9uc2UoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KDgpO1xuICAgICAgICBpZiAoZGF0YVsxXSAhPT0gY29uc3RhbnRzXzEuU29ja3M0UmVzcG9uc2UuR3JhbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChgJHtjb25zdGFudHNfMS5FUlJPUlMuU29ja3M0UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9ufSAtICgke2NvbnN0YW50c18xLlNvY2tzNFJlc3BvbnNlW2RhdGFbMV1dfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmYgPSBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlci5mcm9tQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgYnVmZi5yZWFkT2Zmc2V0ID0gMjtcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICBob3N0OiBpcC5mcm9tTG9uZyhidWZmLnJlYWRVSW50MzJCRSgpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVJbnRlcm5hbFNvY2tldEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyByZW1vdGVIb3N0LCBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGluaXRpYWwgU29ja3MgdjUgaGFuZHNoYWtlIHJlcXVlc3QuXG4gICAgICovXG4gICAgc2VuZFNvY2tzNUluaXRpYWxIYW5kc2hha2UoKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBuZXcgc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIoKTtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCB3ZSBhbHdheXMgc3VwcG9ydCBubyBhdXRoLlxuICAgICAgICBjb25zdCBzdXBwb3J0ZWRBdXRoTWV0aG9kcyA9IFtjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aF07XG4gICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IHRlbGwgdGhlIHByb3h5IHdlIHN1cHBvcnQgdXNlci9wYXNzIGF1dGggaWYgYXV0aCBpbmZvIGlzIGFjdHVhbGx5IHByb3ZpZGVkLlxuICAgICAgICAvLyBOb3RlOiBBcyBvZiBUb3IgdjAuMy41LjcrLCBpZiB1c2VyL3Bhc3MgYXV0aCBpcyBhbiBvcHRpb24gZnJvbSB0aGUgY2xpZW50LCBieSBkZWZhdWx0IGl0IHdpbGwgYWx3YXlzIHRha2UgcHJpb3JpdHkuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkudXNlcklkIHx8IHRoaXMub3B0aW9ucy5wcm94eS5wYXNzd29yZCkge1xuICAgICAgICAgICAgc3VwcG9ydGVkQXV0aE1ldGhvZHMucHVzaChjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDdXN0b20gYXV0aCBtZXRob2Q/XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkuY3VzdG9tX2F1dGhfbWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEF1dGhNZXRob2RzLnB1c2godGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVpbGQgaGFuZHNoYWtlIHBhY2tldFxuICAgICAgICBidWZmLndyaXRlVUludDgoMHgwNSk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OChzdXBwb3J0ZWRBdXRoTWV0aG9kcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGNvbnN0IGF1dGhNZXRob2Qgb2Ygc3VwcG9ydGVkQXV0aE1ldGhvZHMpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChhdXRoTWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNUluaXRpYWxIYW5kc2hha2VSZXNwb25zZTtcbiAgICAgICAgdGhpcy5zb2NrZXQud3JpdGUoYnVmZi50b0J1ZmZlcigpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRJbml0aWFsSGFuZHNoYWtlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBpbml0aWFsIFNvY2tzIHY1IGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIGhhbmRsZUluaXRpYWxTb2NrczVIYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoMik7XG4gICAgICAgIGlmIChkYXRhWzBdICE9PSAweDA1KSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YVsxXSA9PT0gY29uc3RhbnRzXzEuU09DS1M1X05PX0FDQ0VQVEFCTEVfQVVUSCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VOb0FjY2VwdGVkQXV0aFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgc2VsZWN0ZWQgU29ja3MgdjUgYXV0aCBtZXRob2QgaXMgbm8gYXV0aCwgc2VuZCBmaW5hbCBoYW5kc2hha2UgcmVxdWVzdC5cbiAgICAgICAgICAgIGlmIChkYXRhWzFdID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja3M1Q2hvc2VuQXV0aFR5cGUgPSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDb21tYW5kUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkIFNvY2tzIHY1IGF1dGggbWV0aG9kIGlzIHVzZXIvcGFzc3dvcmQsIHNlbmQgYXV0aCBoYW5kc2hha2UuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhWzFdID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrczVDaG9zZW5BdXRoVHlwZSA9IGNvbnN0YW50c18xLlNvY2tzNUF1dGguVXNlclBhc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvbigpO1xuICAgICAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkIFNvY2tzIHY1IGF1dGggbWV0aG9kIGlzIHRoZSBjdXN0b21fYXV0aF9tZXRob2QsIHNlbmQgY3VzdG9tIGhhbmRzaGFrZS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFbMV0gPT09IHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID0gdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDdXN0b21BdXRoZW50aWNhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VVbmtub3duQXV0aFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIFNvY2tzIHY1IHVzZXIgJiBwYXNzd29yZCBhdXRoIGhhbmRzaGFrZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IE5vIGF1dGggYW5kIHVzZXIvcGFzcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICBzZW5kU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gdGhpcy5vcHRpb25zLnByb3h5LnVzZXJJZCB8fCAnJztcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLm9wdGlvbnMucHJveHkucGFzc3dvcmQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBuZXcgc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIoKTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDEpO1xuICAgICAgICBidWZmLndyaXRlVUludDgoQnVmZmVyLmJ5dGVMZW5ndGgodXNlcklkKSk7XG4gICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcodXNlcklkKTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KEJ1ZmZlci5ieXRlTGVuZ3RoKHBhc3N3b3JkKSk7XG4gICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb25SZXNwb25zZTtcbiAgICAgICAgdGhpcy5zb2NrZXQud3JpdGUoYnVmZi50b0J1ZmZlcigpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRBdXRoZW50aWNhdGlvbik7XG4gICAgfVxuICAgIHNlbmRTb2NrczVDdXN0b21BdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemU7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC53cml0ZSh5aWVsZCB0aGlzLm9wdGlvbnMucHJveHkuY3VzdG9tX2F1dGhfcmVxdWVzdF9oYW5kbGVyKCkpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRBdXRoZW50aWNhdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYW5kbGVTb2NrczVDdXN0b21BdXRoSGFuZHNoYWtlUmVzcG9uc2UoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Ob0F1dGhIYW5kc2hha2VSZXNwb25zZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVsxXSA9PT0gMHgwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uVXNlclBhc3NIYW5kc2hha2VSZXNwb25zZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVsxXSA9PT0gMHgwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjUgYXV0aCBoYW5kc2hha2UgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVJbml0aWFsU29ja3M1QXV0aGVudGljYXRpb25IYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5SZWNlaXZlZEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgbGV0IGF1dGhSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aCkge1xuICAgICAgICAgICAgICAgIGF1dGhSZXN1bHQgPSB5aWVsZCB0aGlzLmhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uTm9BdXRoSGFuZHNoYWtlUmVzcG9uc2UodGhpcy5yZWNlaXZlQnVmZmVyLmdldCgyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKSB7XG4gICAgICAgICAgICAgICAgYXV0aFJlc3VsdCA9XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Vc2VyUGFzc0hhbmRzaGFrZVJlc3BvbnNlKHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoMikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zb2NrczVDaG9zZW5BdXRoVHlwZSA9PT0gdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCkge1xuICAgICAgICAgICAgICAgIGF1dGhSZXN1bHQgPSB5aWVsZCB0aGlzLmhhbmRsZVNvY2tzNUN1c3RvbUF1dGhIYW5kc2hha2VSZXNwb25zZSh0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9zaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWF1dGhSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGNvbnN0YW50c18xLkVSUk9SUy5Tb2NrczVBdXRoZW50aWNhdGlvbkZhaWxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDb21tYW5kUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgU29ja3MgdjUgZmluYWwgaGFuZHNoYWtlIHJlcXVlc3QuXG4gICAgICovXG4gICAgc2VuZFNvY2tzNUNvbW1hbmRSZXF1ZXN0KCkge1xuICAgICAgICBjb25zdCBidWZmID0gbmV3IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyKCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OCgweDA1KTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0pO1xuICAgICAgICBidWZmLndyaXRlVUludDgoMHgwMCk7XG4gICAgICAgIC8vIGlwdjQsIGlwdjYsIGRvbWFpbj9cbiAgICAgICAgaWYgKG5ldC5pc0lQdjQodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKSB7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoY29uc3RhbnRzXzEuU29ja3M1SG9zdFR5cGUuSVB2NCk7XG4gICAgICAgICAgICBidWZmLndyaXRlQnVmZmVyKGlwLnRvQnVmZmVyKHRoaXMub3B0aW9ucy5kZXN0aW5hdGlvbi5ob3N0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV0LmlzSVB2Nih0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24uaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50MTZCRSh0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24ucG9ydCk7XG4gICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M1UmVzcG9uc2VIZWFkZXI7XG4gICAgICAgIHRoaXMuc29ja2V0LndyaXRlKGJ1ZmYudG9CdWZmZXIoKSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50RmluYWxIYW5kc2hha2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIFNvY2tzIHY1IGZpbmFsIGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIGhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UoKSB7XG4gICAgICAgIC8vIFBlZWsgYXQgYXZhaWxhYmxlIGRhdGEgKHdlIG5lZWQgYXQgbGVhc3QgNSBieXRlcyB0byBnZXQgdGhlIGhvc3RuYW1lIGxlbmd0aClcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5yZWNlaXZlQnVmZmVyLnBlZWsoNSk7XG4gICAgICAgIGlmIChoZWFkZXJbMF0gIT09IDB4MDUgfHwgaGVhZGVyWzFdICE9PSBjb25zdGFudHNfMS5Tb2NrczVSZXNwb25zZS5HcmFudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGAke2NvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3M1RmluYWxIYW5kc2hha2VSZWplY3RlZH0gLSAke2NvbnN0YW50c18xLlNvY2tzNVJlc3BvbnNlW2hlYWRlclsxXV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZWFkIGFkZHJlc3MgdHlwZVxuICAgICAgICAgICAgY29uc3QgYWRkcmVzc1R5cGUgPSBoZWFkZXJbM107XG4gICAgICAgICAgICBsZXQgcmVtb3RlSG9zdDtcbiAgICAgICAgICAgIGxldCBidWZmO1xuICAgICAgICAgICAgLy8gSVB2NFxuICAgICAgICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY0KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUlQdjQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg0KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogaXAuZnJvbUxvbmcoYnVmZi5yZWFkVUludDMyQkUoKSksXG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBJZiBnaXZlbiBob3N0IGlzIDAuMC4wLjAsIGFzc3VtZSByZW1vdGUgcHJveHkgaXAgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlSG9zdC5ob3N0ID09PSAnMC4wLjAuMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSG9zdC5ob3N0ID0gdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSG9zdG5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RMZW5ndGggPSBoZWFkZXJbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUhvc3RuYW1lKGhvc3RMZW5ndGgpOyAvLyBoZWFkZXIgKyBob3N0IGxlbmd0aCArIGhvc3QgKyBwb3J0XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg1KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogYnVmZi5yZWFkU3RyaW5nKGhvc3RMZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICBwb3J0OiBidWZmLnJlYWRVSW50MTZCRSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gSVB2NlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjYpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSVB2NjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA8IGRhdGFOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVxdWlyZWRQYWNrZXRCdWZmZXJTaXplID0gZGF0YU5lZWRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcih0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KGRhdGFOZWVkZWQpLnNsaWNlKDQpKTtcbiAgICAgICAgICAgICAgICByZW1vdGVIb3N0ID0ge1xuICAgICAgICAgICAgICAgICAgICBob3N0OiBpcC50b1N0cmluZyhidWZmLnJlYWRCdWZmZXIoMTYpKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBldmVyeXRoaW5nIHdlIG5lZWRcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5SZWNlaXZlZEZpbmFsUmVzcG9uc2UpO1xuICAgICAgICAgICAgLy8gSWYgdXNpbmcgQ09OTkVDVCwgdGhlIGNsaWVudCBpcyBub3cgaW4gdGhlIGVzdGFibGlzaGVkIHN0YXRlLlxuICAgICAgICAgICAgaWYgKGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0gPT09IGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZC5jb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVzdGFibGlzaGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyByZW1vdGVIb3N0LCBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuU29ja3NDb21tYW5kW3RoaXMub3B0aW9ucy5jb21tYW5kXSA9PT0gY29uc3RhbnRzXzEuU29ja3NDb21tYW5kLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAvKiBJZiB1c2luZyBCSU5ELCB0aGUgU29ja3MgY2xpZW50IGlzIG5vdyBpbiBCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgIFRoaXMgbWVhbnMgdGhhdCB0aGUgcmVtb3RlIHByb3h5IHNlcnZlciBpcyB3YWl0aW5nIGZvciBhIHJlbW90ZSBjb25uZWN0aW9uIHRvIHRoZSBib3VuZCBwb3J0LiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Cb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M1UmVzcG9uc2VIZWFkZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdib3VuZCcsIHsgcmVtb3RlSG9zdCwgc29ja2V0OiB0aGlzLnNvY2tldCB9KTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgSWYgdXNpbmcgQXNzb2NpYXRlLCB0aGUgU29ja3MgY2xpZW50IGlzIG5vdyBFc3RhYmxpc2hlZC4gQW5kIHRoZSBwcm94eSBzZXJ2ZXIgaXMgbm93IGFjY2VwdGluZyBVRFAgcGFja2V0cyBhdCB0aGVcbiAgICAgICAgICAgICAgICAgIGdpdmVuIGJvdW5kIHBvcnQuIFRoaXMgaW5pdGlhbCBTb2NrcyBUQ1AgY29ubmVjdGlvbiBtdXN0IHJlbWFpbiBvcGVuIGZvciB0aGUgVURQIHJlbGF5IHRvIGNvbnRpbnVlIHRvIHdvcmsuXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0gPT09IGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZC5hc3NvY2lhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSW50ZXJuYWxTb2NrZXRIYW5kbGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXN0YWJsaXNoZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUhvc3QsXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldDogdGhpcy5zb2NrZXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBTb2NrcyB2NSBpbmNvbWluZyBjb25uZWN0aW9uIHJlcXVlc3QgKEJJTkQpLlxuICAgICAqL1xuICAgIGhhbmRsZVNvY2tzNUluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlKCkge1xuICAgICAgICAvLyBQZWVrIGF0IGF2YWlsYWJsZSBkYXRhICh3ZSBuZWVkIGF0IGxlYXN0IDUgYnl0ZXMgdG8gZ2V0IHRoZSBob3N0bmFtZSBsZW5ndGgpXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5wZWVrKDUpO1xuICAgICAgICBpZiAoaGVhZGVyWzBdICE9PSAweDA1IHx8IGhlYWRlclsxXSAhPT0gY29uc3RhbnRzXzEuU29ja3M1UmVzcG9uc2UuR3JhbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChgJHtjb25zdGFudHNfMS5FUlJPUlMuU29ja3M1UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9ufSAtICR7Y29uc3RhbnRzXzEuU29ja3M1UmVzcG9uc2VbaGVhZGVyWzFdXX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlYWQgYWRkcmVzcyB0eXBlXG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzVHlwZSA9IGhlYWRlclszXTtcbiAgICAgICAgICAgIGxldCByZW1vdGVIb3N0O1xuICAgICAgICAgICAgbGV0IGJ1ZmY7XG4gICAgICAgICAgICAvLyBJUHY0XG4gICAgICAgICAgICBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjQpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSVB2NDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA8IGRhdGFOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVxdWlyZWRQYWNrZXRCdWZmZXJTaXplID0gZGF0YU5lZWRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcih0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KGRhdGFOZWVkZWQpLnNsaWNlKDQpKTtcbiAgICAgICAgICAgICAgICByZW1vdGVIb3N0ID0ge1xuICAgICAgICAgICAgICAgICAgICBob3N0OiBpcC5mcm9tTG9uZyhidWZmLnJlYWRVSW50MzJCRSgpKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElmIGdpdmVuIGhvc3QgaXMgMC4wLjAuMCwgYXNzdW1lIHJlbW90ZSBwcm94eSBpcCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIGlmIChyZW1vdGVIb3N0Lmhvc3QgPT09ICcwLjAuMC4wJykge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVIb3N0Lmhvc3QgPSB0aGlzLm9wdGlvbnMucHJveHkuaXBhZGRyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIb3N0bmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLkhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdExlbmd0aCA9IGhlYWRlcls0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSG9zdG5hbWUoaG9zdExlbmd0aCk7IC8vIGhlYWRlciArIGhvc3QgbGVuZ3RoICsgcG9ydFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGRhdGEgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoIDwgZGF0YU5lZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPSBkYXRhTmVlZGVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmYgPSBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlci5mcm9tQnVmZmVyKHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoZGF0YU5lZWRlZCkuc2xpY2UoNSkpO1xuICAgICAgICAgICAgICAgIHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IGJ1ZmYucmVhZFN0cmluZyhob3N0TGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElQdjZcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUlQdjY7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg0KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogaXAudG9TdHJpbmcoYnVmZi5yZWFkQnVmZmVyKDE2KSksXG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Fc3RhYmxpc2hlZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXN0YWJsaXNoZWQnLCB7IHJlbW90ZUhvc3QsIHNvY2tldDogdGhpcy5zb2NrZXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNvY2tzQ2xpZW50T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0cy5Tb2Nrc0NsaWVudCA9IFNvY2tzQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ja3NjbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIlNvY2tzQ2xpZW50RXJyb3IiLCJTb2Nrc0NsaWVudCIsImV2ZW50c18xIiwicmVxdWlyZSIsIm5ldCIsImlwIiwic21hcnRfYnVmZmVyXzEiLCJjb25zdGFudHNfMSIsImhlbHBlcnNfMSIsInJlY2VpdmVidWZmZXJfMSIsInV0aWxfMSIsImVudW1lcmFibGUiLCJnZXQiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJhc3NpZ24iLCJ2YWxpZGF0ZVNvY2tzQ2xpZW50T3B0aW9ucyIsInNldFN0YXRlIiwiU29ja3NDbGllbnRTdGF0ZSIsIkNyZWF0ZWQiLCJjcmVhdGVDb25uZWN0aW9uIiwiY2FsbGJhY2siLCJlcnIiLCJjbGllbnQiLCJjb25uZWN0IiwiZXhpc3Rpbmdfc29ja2V0Iiwib25jZSIsImluZm8iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJjcmVhdGVDb25uZWN0aW9uQ2hhaW4iLCJ2YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zIiwicmFuZG9taXplQ2hhaW4iLCJzaHVmZmxlQXJyYXkiLCJwcm94aWVzIiwic29jayIsImkiLCJsZW5ndGgiLCJuZXh0UHJveHkiLCJuZXh0RGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImhvc3QiLCJpcGFkZHJlc3MiLCJwb3J0IiwiY29tbWFuZCIsInByb3h5Iiwic29ja2V0IiwiY3JlYXRlVURQRnJhbWUiLCJidWZmIiwiU21hcnRCdWZmZXIiLCJ3cml0ZVVJbnQxNkJFIiwid3JpdGVVSW50OCIsImZyYW1lTnVtYmVyIiwiaXNJUHY0IiwicmVtb3RlSG9zdCIsIlNvY2tzNUhvc3RUeXBlIiwiSVB2NCIsIndyaXRlVUludDMyQkUiLCJ0b0xvbmciLCJpc0lQdjYiLCJJUHY2Iiwid3JpdGVCdWZmZXIiLCJ0b0J1ZmZlciIsIkhvc3RuYW1lIiwiQnVmZmVyIiwiYnl0ZUxlbmd0aCIsIndyaXRlU3RyaW5nIiwiZGF0YSIsInBhcnNlVURQRnJhbWUiLCJmcm9tQnVmZmVyIiwicmVhZE9mZnNldCIsInJlYWRVSW50OCIsImhvc3RUeXBlIiwiZnJvbUxvbmciLCJyZWFkVUludDMyQkUiLCJ0b1N0cmluZyIsInJlYWRCdWZmZXIiLCJyZWFkU3RyaW5nIiwicmVtb3RlUG9ydCIsInJlYWRVSW50MTZCRSIsIm5ld1N0YXRlIiwic3RhdGUiLCJFcnJvciIsImV4aXN0aW5nU29ja2V0Iiwib25EYXRhUmVjZWl2ZWQiLCJvbkRhdGFSZWNlaXZlZEhhbmRsZXIiLCJvbkNsb3NlIiwib25DbG9zZUhhbmRsZXIiLCJvbkVycm9yIiwib25FcnJvckhhbmRsZXIiLCJvbkNvbm5lY3QiLCJvbkNvbm5lY3RIYW5kbGVyIiwidGltZXIiLCJzZXRUaW1lb3V0Iiwib25Fc3RhYmxpc2hlZFRpbWVvdXQiLCJ0aW1lb3V0IiwiREVGQVVMVF9USU1FT1VUIiwidW5yZWYiLCJTb2NrZXQiLCJvbiIsIkNvbm5lY3RpbmciLCJyZWNlaXZlQnVmZmVyIiwiUmVjZWl2ZUJ1ZmZlciIsImVtaXQiLCJnZXRTb2NrZXRPcHRpb25zIiwic2V0X3RjcF9ub2RlbGF5IiwidW5kZWZpbmVkIiwic2V0Tm9EZWxheSIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJzZXRJbW1lZGlhdGUiLCJleGNlc3NEYXRhIiwicmVzdW1lIiwic29ja2V0X29wdGlvbnMiLCJFc3RhYmxpc2hlZCIsIkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24iLCJjbG9zZVNvY2tldCIsIkVSUk9SUyIsIlByb3h5Q29ubmVjdGlvblRpbWVkT3V0IiwiQ29ubmVjdGVkIiwidHlwZSIsInNlbmRTb2NrczRJbml0aWFsSGFuZHNoYWtlIiwic2VuZFNvY2tzNUluaXRpYWxIYW5kc2hha2UiLCJTZW50SW5pdGlhbEhhbmRzaGFrZSIsImFwcGVuZCIsInByb2Nlc3NEYXRhIiwibmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSIsImhhbmRsZVNvY2tzNEZpbmFsSGFuZHNoYWtlUmVzcG9uc2UiLCJoYW5kbGVJbml0aWFsU29ja3M1SGFuZHNoYWtlUmVzcG9uc2UiLCJTZW50QXV0aGVudGljYXRpb24iLCJoYW5kbGVJbml0aWFsU29ja3M1QXV0aGVudGljYXRpb25IYW5kc2hha2VSZXNwb25zZSIsIlNlbnRGaW5hbEhhbmRzaGFrZSIsImhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UiLCJoYW5kbGVTb2NrczRJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSIsImhhbmRsZVNvY2tzNUluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlIiwiSW50ZXJuYWxFcnJvciIsIlNvY2tldENsb3NlZCIsIm1lc3NhZ2UiLCJyZW1vdmVJbnRlcm5hbFNvY2tldEhhbmRsZXJzIiwicGF1c2UiLCJyZW1vdmVMaXN0ZW5lciIsImRlc3Ryb3kiLCJ1c2VySWQiLCJTb2Nrc0NvbW1hbmQiLCJ3cml0ZVN0cmluZ05UIiwiU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTIiwiU29ja3M0UmVzcG9uc2UiLCJ3cml0ZSIsIkdyYW50ZWQiLCJTb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbiIsImJpbmQiLCJTb2NrczRQcm94eVJlamVjdGVkSW5jb21pbmdCb3VuZENvbm5lY3Rpb24iLCJzdXBwb3J0ZWRBdXRoTWV0aG9kcyIsIlNvY2tzNUF1dGgiLCJOb0F1dGgiLCJwYXNzd29yZCIsInB1c2giLCJVc2VyUGFzcyIsImN1c3RvbV9hdXRoX21ldGhvZCIsImF1dGhNZXRob2QiLCJTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2UiLCJJbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbiIsIlNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEgiLCJJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZU5vQWNjZXB0ZWRBdXRoVHlwZSIsInNvY2tzNUNob3NlbkF1dGhUeXBlIiwic2VuZFNvY2tzNUNvbW1hbmRSZXF1ZXN0Iiwic2VuZFNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb24iLCJzZW5kU29ja3M1Q3VzdG9tQXV0aGVudGljYXRpb24iLCJJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZVVua25vd25BdXRoVHlwZSIsIlNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb25SZXNwb25zZSIsImN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemUiLCJjdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIiLCJoYW5kbGVTb2NrczVDdXN0b21BdXRoSGFuZHNoYWtlUmVzcG9uc2UiLCJjdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyIiwiaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Ob0F1dGhIYW5kc2hha2VSZXNwb25zZSIsImhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uVXNlclBhc3NIYW5kc2hha2VSZXNwb25zZSIsIlJlY2VpdmVkQXV0aGVudGljYXRpb25SZXNwb25zZSIsImF1dGhSZXN1bHQiLCJTb2NrczVBdXRoZW50aWNhdGlvbkZhaWxlZCIsIlNvY2tzNVJlc3BvbnNlSGVhZGVyIiwiaGVhZGVyIiwicGVlayIsIlNvY2tzNVJlc3BvbnNlIiwiSW52YWxpZFNvY2tzNUZpbmFsSGFuZHNoYWtlUmVqZWN0ZWQiLCJhZGRyZXNzVHlwZSIsImRhdGFOZWVkZWQiLCJTb2NrczVSZXNwb25zZUlQdjQiLCJzbGljZSIsImhvc3RMZW5ndGgiLCJTb2NrczVSZXNwb25zZUhvc3RuYW1lIiwiU29ja3M1UmVzcG9uc2VJUHY2IiwiUmVjZWl2ZWRGaW5hbFJlc3BvbnNlIiwiYXNzb2NpYXRlIiwiU29ja3M1UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9uIiwic29ja3NDbGllbnRPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/client/socksclient.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/constants.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/constants.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.SOCKS5_NO_ACCEPTABLE_AUTH = exports.SOCKS5_CUSTOM_AUTH_END = exports.SOCKS5_CUSTOM_AUTH_START = exports.SOCKS_INCOMING_PACKET_SIZES = exports.SocksClientState = exports.Socks5Response = exports.Socks5HostType = exports.Socks5Auth = exports.Socks4Response = exports.SocksCommand = exports.ERRORS = exports.DEFAULT_TIMEOUT = void 0;\nconst DEFAULT_TIMEOUT = 30000;\nexports.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\n// prettier-ignore\nconst ERRORS = {\n    InvalidSocksCommand: \"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.\",\n    InvalidSocksCommandForOperation: \"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.\",\n    InvalidSocksCommandChain: \"An invalid SOCKS command was provided. Chaining currently only supports the connect command.\",\n    InvalidSocksClientOptionsDestination: \"An invalid destination host was provided.\",\n    InvalidSocksClientOptionsExistingSocket: \"An invalid existing socket was provided. This should be an instance of stream.Duplex.\",\n    InvalidSocksClientOptionsProxy: \"Invalid SOCKS proxy details were provided.\",\n    InvalidSocksClientOptionsTimeout: \"An invalid timeout value was provided. Please enter a value above 0 (in ms).\",\n    InvalidSocksClientOptionsProxiesLength: \"At least two socks proxies must be provided for chaining.\",\n    InvalidSocksClientOptionsCustomAuthRange: \"Custom auth must be a value between 0x80 and 0xFE.\",\n    InvalidSocksClientOptionsCustomAuthOptions: \"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.\",\n    NegotiationError: \"Negotiation error\",\n    SocketClosed: \"Socket closed\",\n    ProxyConnectionTimedOut: \"Proxy connection timed out\",\n    InternalError: \"SocksClient internal error (this should not happen)\",\n    InvalidSocks4HandshakeResponse: \"Received invalid Socks4 handshake response\",\n    Socks4ProxyRejectedConnection: \"Socks4 Proxy rejected connection\",\n    InvalidSocks4IncomingConnectionResponse: \"Socks4 invalid incoming connection response\",\n    Socks4ProxyRejectedIncomingBoundConnection: \"Socks4 Proxy rejected incoming bound connection\",\n    InvalidSocks5InitialHandshakeResponse: \"Received invalid Socks5 initial handshake response\",\n    InvalidSocks5IntiailHandshakeSocksVersion: \"Received invalid Socks5 initial handshake (invalid socks version)\",\n    InvalidSocks5InitialHandshakeNoAcceptedAuthType: \"Received invalid Socks5 initial handshake (no accepted authentication type)\",\n    InvalidSocks5InitialHandshakeUnknownAuthType: \"Received invalid Socks5 initial handshake (unknown authentication type)\",\n    Socks5AuthenticationFailed: \"Socks5 Authentication failed\",\n    InvalidSocks5FinalHandshake: \"Received invalid Socks5 final handshake response\",\n    InvalidSocks5FinalHandshakeRejected: \"Socks5 proxy rejected connection\",\n    InvalidSocks5IncomingConnectionResponse: \"Received invalid Socks5 incoming connection response\",\n    Socks5ProxyRejectedIncomingBoundConnection: \"Socks5 Proxy rejected incoming bound connection\"\n};\nexports.ERRORS = ERRORS;\nconst SOCKS_INCOMING_PACKET_SIZES = {\n    Socks5InitialHandshakeResponse: 2,\n    Socks5UserPassAuthenticationResponse: 2,\n    // Command response + incoming connection (bind)\n    Socks5ResponseHeader: 5,\n    Socks5ResponseIPv4: 10,\n    Socks5ResponseIPv6: 22,\n    Socks5ResponseHostname: (hostNameLength)=>hostNameLength + 7,\n    // Command response + incoming connection (bind)\n    Socks4Response: 8\n};\nexports.SOCKS_INCOMING_PACKET_SIZES = SOCKS_INCOMING_PACKET_SIZES;\nvar SocksCommand;\n(function(SocksCommand) {\n    SocksCommand[SocksCommand[\"connect\"] = 1] = \"connect\";\n    SocksCommand[SocksCommand[\"bind\"] = 2] = \"bind\";\n    SocksCommand[SocksCommand[\"associate\"] = 3] = \"associate\";\n})(SocksCommand || (SocksCommand = {}));\nexports.SocksCommand = SocksCommand;\nvar Socks4Response;\n(function(Socks4Response) {\n    Socks4Response[Socks4Response[\"Granted\"] = 90] = \"Granted\";\n    Socks4Response[Socks4Response[\"Failed\"] = 91] = \"Failed\";\n    Socks4Response[Socks4Response[\"Rejected\"] = 92] = \"Rejected\";\n    Socks4Response[Socks4Response[\"RejectedIdent\"] = 93] = \"RejectedIdent\";\n})(Socks4Response || (Socks4Response = {}));\nexports.Socks4Response = Socks4Response;\nvar Socks5Auth;\n(function(Socks5Auth) {\n    Socks5Auth[Socks5Auth[\"NoAuth\"] = 0] = \"NoAuth\";\n    Socks5Auth[Socks5Auth[\"GSSApi\"] = 1] = \"GSSApi\";\n    Socks5Auth[Socks5Auth[\"UserPass\"] = 2] = \"UserPass\";\n})(Socks5Auth || (Socks5Auth = {}));\nexports.Socks5Auth = Socks5Auth;\nconst SOCKS5_CUSTOM_AUTH_START = 0x80;\nexports.SOCKS5_CUSTOM_AUTH_START = SOCKS5_CUSTOM_AUTH_START;\nconst SOCKS5_CUSTOM_AUTH_END = 0xfe;\nexports.SOCKS5_CUSTOM_AUTH_END = SOCKS5_CUSTOM_AUTH_END;\nconst SOCKS5_NO_ACCEPTABLE_AUTH = 0xff;\nexports.SOCKS5_NO_ACCEPTABLE_AUTH = SOCKS5_NO_ACCEPTABLE_AUTH;\nvar Socks5Response;\n(function(Socks5Response) {\n    Socks5Response[Socks5Response[\"Granted\"] = 0] = \"Granted\";\n    Socks5Response[Socks5Response[\"Failure\"] = 1] = \"Failure\";\n    Socks5Response[Socks5Response[\"NotAllowed\"] = 2] = \"NotAllowed\";\n    Socks5Response[Socks5Response[\"NetworkUnreachable\"] = 3] = \"NetworkUnreachable\";\n    Socks5Response[Socks5Response[\"HostUnreachable\"] = 4] = \"HostUnreachable\";\n    Socks5Response[Socks5Response[\"ConnectionRefused\"] = 5] = \"ConnectionRefused\";\n    Socks5Response[Socks5Response[\"TTLExpired\"] = 6] = \"TTLExpired\";\n    Socks5Response[Socks5Response[\"CommandNotSupported\"] = 7] = \"CommandNotSupported\";\n    Socks5Response[Socks5Response[\"AddressNotSupported\"] = 8] = \"AddressNotSupported\";\n})(Socks5Response || (Socks5Response = {}));\nexports.Socks5Response = Socks5Response;\nvar Socks5HostType;\n(function(Socks5HostType) {\n    Socks5HostType[Socks5HostType[\"IPv4\"] = 1] = \"IPv4\";\n    Socks5HostType[Socks5HostType[\"Hostname\"] = 3] = \"Hostname\";\n    Socks5HostType[Socks5HostType[\"IPv6\"] = 4] = \"IPv6\";\n})(Socks5HostType || (Socks5HostType = {}));\nexports.Socks5HostType = Socks5HostType;\nvar SocksClientState;\n(function(SocksClientState) {\n    SocksClientState[SocksClientState[\"Created\"] = 0] = \"Created\";\n    SocksClientState[SocksClientState[\"Connecting\"] = 1] = \"Connecting\";\n    SocksClientState[SocksClientState[\"Connected\"] = 2] = \"Connected\";\n    SocksClientState[SocksClientState[\"SentInitialHandshake\"] = 3] = \"SentInitialHandshake\";\n    SocksClientState[SocksClientState[\"ReceivedInitialHandshakeResponse\"] = 4] = \"ReceivedInitialHandshakeResponse\";\n    SocksClientState[SocksClientState[\"SentAuthentication\"] = 5] = \"SentAuthentication\";\n    SocksClientState[SocksClientState[\"ReceivedAuthenticationResponse\"] = 6] = \"ReceivedAuthenticationResponse\";\n    SocksClientState[SocksClientState[\"SentFinalHandshake\"] = 7] = \"SentFinalHandshake\";\n    SocksClientState[SocksClientState[\"ReceivedFinalResponse\"] = 8] = \"ReceivedFinalResponse\";\n    SocksClientState[SocksClientState[\"BoundWaitingForConnection\"] = 9] = \"BoundWaitingForConnection\";\n    SocksClientState[SocksClientState[\"Established\"] = 10] = \"Established\";\n    SocksClientState[SocksClientState[\"Disconnected\"] = 11] = \"Disconnected\";\n    SocksClientState[SocksClientState[\"Error\"] = 99] = \"Error\";\n})(SocksClientState || (SocksClientState = {}));\nexports.SocksClientState = SocksClientState; //# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxpQ0FBaUMsR0FBR0EsOEJBQThCLEdBQUdBLGdDQUFnQyxHQUFHQSxtQ0FBbUMsR0FBR0Esd0JBQXdCLEdBQUdBLHNCQUFzQixHQUFHQSxzQkFBc0IsR0FBR0Esa0JBQWtCLEdBQUdBLHNCQUFzQixHQUFHQSxvQkFBb0IsR0FBR0EsY0FBYyxHQUFHQSx1QkFBdUIsR0FBRyxLQUFLO0FBQ2hWLE1BQU1hLGtCQUFrQjtBQUN4QmIsdUJBQXVCLEdBQUdhO0FBQzFCLGtCQUFrQjtBQUNsQixNQUFNRCxTQUFTO0lBQ1hFLHFCQUFxQjtJQUNyQkMsaUNBQWlDO0lBQ2pDQywwQkFBMEI7SUFDMUJDLHNDQUFzQztJQUN0Q0MseUNBQXlDO0lBQ3pDQyxnQ0FBZ0M7SUFDaENDLGtDQUFrQztJQUNsQ0Msd0NBQXdDO0lBQ3hDQywwQ0FBMEM7SUFDMUNDLDRDQUE0QztJQUM1Q0Msa0JBQWtCO0lBQ2xCQyxjQUFjO0lBQ2RDLHlCQUF5QjtJQUN6QkMsZUFBZTtJQUNmQyxnQ0FBZ0M7SUFDaENDLCtCQUErQjtJQUMvQkMseUNBQXlDO0lBQ3pDQyw0Q0FBNEM7SUFDNUNDLHVDQUF1QztJQUN2Q0MsMkNBQTJDO0lBQzNDQyxpREFBaUQ7SUFDakRDLDhDQUE4QztJQUM5Q0MsNEJBQTRCO0lBQzVCQyw2QkFBNkI7SUFDN0JDLHFDQUFxQztJQUNyQ0MseUNBQXlDO0lBQ3pDQyw0Q0FBNEM7QUFDaEQ7QUFDQXhDLGNBQWMsR0FBR1k7QUFDakIsTUFBTVAsOEJBQThCO0lBQ2hDb0MsZ0NBQWdDO0lBQ2hDQyxzQ0FBc0M7SUFDdEMsZ0RBQWdEO0lBQ2hEQyxzQkFBc0I7SUFDdEJDLG9CQUFvQjtJQUNwQkMsb0JBQW9CO0lB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QWdCLENBQUMsYUFBYSxHQUFHLEVBQUUsR0FBRztJQUN2REEsZ0JBQWdCLENBQUNBLGdCQUFnQixDQUFDLFlBQVksR0FBRyxFQUFFLEdBQUc7SUFDdERBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyx1QkFBdUIsR0FBRyxFQUFFLEdBQUc7SUFDakVBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxtQ0FBbUMsR0FBRyxFQUFFLEdBQUc7SUFDN0VBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxxQkFBcUIsR0FBRyxFQUFFLEdBQUc7SUFDL0RBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxpQ0FBaUMsR0FBRyxFQUFFLEdBQUc7SUFDM0VBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxxQkFBcUIsR0FBRyxFQUFFLEdBQUc7SUFDL0RBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyx3QkFBd0IsR0FBRyxFQUFFLEdBQUc7SUFDbEVBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyw0QkFBNEIsR0FBRyxFQUFFLEdBQUc7SUFDdEVBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxjQUFjLEdBQUcsR0FBRyxHQUFHO0lBQ3pEQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsZUFBZSxHQUFHLEdBQUcsR0FBRztJQUMxREEsZ0JBQWdCLENBQUNBLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxHQUFHLEdBQUc7QUFDdkQsR0FBR0Esb0JBQXFCQSxDQUFBQSxtQkFBbUIsQ0FBQztBQUM1Q04sd0JBQXdCLEdBQUdNLGtCQUMzQixxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vY29uc3RhbnRzLmpzP2I2YWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEggPSBleHBvcnRzLlNPQ0tTNV9DVVNUT01fQVVUSF9FTkQgPSBleHBvcnRzLlNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVCA9IGV4cG9ydHMuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTID0gZXhwb3J0cy5Tb2Nrc0NsaWVudFN0YXRlID0gZXhwb3J0cy5Tb2NrczVSZXNwb25zZSA9IGV4cG9ydHMuU29ja3M1SG9zdFR5cGUgPSBleHBvcnRzLlNvY2tzNUF1dGggPSBleHBvcnRzLlNvY2tzNFJlc3BvbnNlID0gZXhwb3J0cy5Tb2Nrc0NvbW1hbmQgPSBleHBvcnRzLkVSUk9SUyA9IGV4cG9ydHMuREVGQVVMVF9USU1FT1VUID0gdm9pZCAwO1xuY29uc3QgREVGQVVMVF9USU1FT1VUID0gMzAwMDA7XG5leHBvcnRzLkRFRkFVTFRfVElNRU9VVCA9IERFRkFVTFRfVElNRU9VVDtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgRVJST1JTID0ge1xuICAgIEludmFsaWRTb2Nrc0NvbW1hbmQ6ICdBbiBpbnZhbGlkIFNPQ0tTIGNvbW1hbmQgd2FzIHByb3ZpZGVkLiBWYWxpZCBvcHRpb25zIGFyZSBjb25uZWN0LCBiaW5kLCBhbmQgYXNzb2NpYXRlLicsXG4gICAgSW52YWxpZFNvY2tzQ29tbWFuZEZvck9wZXJhdGlvbjogJ0FuIGludmFsaWQgU09DS1MgY29tbWFuZCB3YXMgcHJvdmlkZWQuIE9ubHkgYSBzdWJzZXQgb2YgY29tbWFuZHMgYXJlIHN1cHBvcnRlZCBmb3IgdGhpcyBvcGVyYXRpb24uJyxcbiAgICBJbnZhbGlkU29ja3NDb21tYW5kQ2hhaW46ICdBbiBpbnZhbGlkIFNPQ0tTIGNvbW1hbmQgd2FzIHByb3ZpZGVkLiBDaGFpbmluZyBjdXJyZW50bHkgb25seSBzdXBwb3J0cyB0aGUgY29ubmVjdCBjb21tYW5kLicsXG4gICAgSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0Rlc3RpbmF0aW9uOiAnQW4gaW52YWxpZCBkZXN0aW5hdGlvbiBob3N0IHdhcyBwcm92aWRlZC4nLFxuICAgIEludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNFeGlzdGluZ1NvY2tldDogJ0FuIGludmFsaWQgZXhpc3Rpbmcgc29ja2V0IHdhcyBwcm92aWRlZC4gVGhpcyBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2Ygc3RyZWFtLkR1cGxleC4nLFxuICAgIEludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94eTogJ0ludmFsaWQgU09DS1MgcHJveHkgZGV0YWlscyB3ZXJlIHByb3ZpZGVkLicsXG4gICAgSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1RpbWVvdXQ6ICdBbiBpbnZhbGlkIHRpbWVvdXQgdmFsdWUgd2FzIHByb3ZpZGVkLiBQbGVhc2UgZW50ZXIgYSB2YWx1ZSBhYm92ZSAwIChpbiBtcykuJyxcbiAgICBJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zUHJveGllc0xlbmd0aDogJ0F0IGxlYXN0IHR3byBzb2NrcyBwcm94aWVzIG11c3QgYmUgcHJvdmlkZWQgZm9yIGNoYWluaW5nLicsXG4gICAgSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhSYW5nZTogJ0N1c3RvbSBhdXRoIG11c3QgYmUgYSB2YWx1ZSBiZXR3ZWVuIDB4ODAgYW5kIDB4RkUuJyxcbiAgICBJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aE9wdGlvbnM6ICdXaGVuIGEgY3VzdG9tX2F1dGhfbWV0aG9kIGlzIHByb3ZpZGVkLCBjdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIsIGN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemUsIGFuZCBjdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyIG11c3QgYWxzbyBiZSBwcm92aWRlZCBhbmQgdmFsaWQuJyxcbiAgICBOZWdvdGlhdGlvbkVycm9yOiAnTmVnb3RpYXRpb24gZXJyb3InLFxuICAgIFNvY2tldENsb3NlZDogJ1NvY2tldCBjbG9zZWQnLFxuICAgIFByb3h5Q29ubmVjdGlvblRpbWVkT3V0OiAnUHJveHkgY29ubmVjdGlvbiB0aW1lZCBvdXQnLFxuICAgIEludGVybmFsRXJyb3I6ICdTb2Nrc0NsaWVudCBpbnRlcm5hbCBlcnJvciAodGhpcyBzaG91bGQgbm90IGhhcHBlbiknLFxuICAgIEludmFsaWRTb2NrczRIYW5kc2hha2VSZXNwb25zZTogJ1JlY2VpdmVkIGludmFsaWQgU29ja3M0IGhhbmRzaGFrZSByZXNwb25zZScsXG4gICAgU29ja3M0UHJveHlSZWplY3RlZENvbm5lY3Rpb246ICdTb2NrczQgUHJveHkgcmVqZWN0ZWQgY29ubmVjdGlvbicsXG4gICAgSW52YWxpZFNvY2tzNEluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlOiAnU29ja3M0IGludmFsaWQgaW5jb21pbmcgY29ubmVjdGlvbiByZXNwb25zZScsXG4gICAgU29ja3M0UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9uOiAnU29ja3M0IFByb3h5IHJlamVjdGVkIGluY29taW5nIGJvdW5kIGNvbm5lY3Rpb24nLFxuICAgIEludmFsaWRTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2U6ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBpbml0aWFsIGhhbmRzaGFrZSByZXNwb25zZScsXG4gICAgSW52YWxpZFNvY2tzNUludGlhaWxIYW5kc2hha2VTb2Nrc1ZlcnNpb246ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBpbml0aWFsIGhhbmRzaGFrZSAoaW52YWxpZCBzb2NrcyB2ZXJzaW9uKScsXG4gICAgSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VOb0FjY2VwdGVkQXV0aFR5cGU6ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBpbml0aWFsIGhhbmRzaGFrZSAobm8gYWNjZXB0ZWQgYXV0aGVudGljYXRpb24gdHlwZSknLFxuICAgIEludmFsaWRTb2NrczVJbml0aWFsSGFuZHNoYWtlVW5rbm93bkF1dGhUeXBlOiAnUmVjZWl2ZWQgaW52YWxpZCBTb2NrczUgaW5pdGlhbCBoYW5kc2hha2UgKHVua25vd24gYXV0aGVudGljYXRpb24gdHlwZSknLFxuICAgIFNvY2tzNUF1dGhlbnRpY2F0aW9uRmFpbGVkOiAnU29ja3M1IEF1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgSW52YWxpZFNvY2tzNUZpbmFsSGFuZHNoYWtlOiAnUmVjZWl2ZWQgaW52YWxpZCBTb2NrczUgZmluYWwgaGFuZHNoYWtlIHJlc3BvbnNlJyxcbiAgICBJbnZhbGlkU29ja3M1RmluYWxIYW5kc2hha2VSZWplY3RlZDogJ1NvY2tzNSBwcm94eSByZWplY3RlZCBjb25uZWN0aW9uJyxcbiAgICBJbnZhbGlkU29ja3M1SW5jb21pbmdDb25uZWN0aW9uUmVzcG9uc2U6ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBpbmNvbWluZyBjb25uZWN0aW9uIHJlc3BvbnNlJyxcbiAgICBTb2NrczVQcm94eVJlamVjdGVkSW5jb21pbmdCb3VuZENvbm5lY3Rpb246ICdTb2NrczUgUHJveHkgcmVqZWN0ZWQgaW5jb21pbmcgYm91bmQgY29ubmVjdGlvbicsXG59O1xuZXhwb3J0cy5FUlJPUlMgPSBFUlJPUlM7XG5jb25zdCBTT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMgPSB7XG4gICAgU29ja3M1SW5pdGlhbEhhbmRzaGFrZVJlc3BvbnNlOiAyLFxuICAgIFNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb25SZXNwb25zZTogMixcbiAgICAvLyBDb21tYW5kIHJlc3BvbnNlICsgaW5jb21pbmcgY29ubmVjdGlvbiAoYmluZClcbiAgICBTb2NrczVSZXNwb25zZUhlYWRlcjogNSxcbiAgICBTb2NrczVSZXNwb25zZUlQdjQ6IDEwLFxuICAgIFNvY2tzNVJlc3BvbnNlSVB2NjogMjIsXG4gICAgU29ja3M1UmVzcG9uc2VIb3N0bmFtZTogKGhvc3ROYW1lTGVuZ3RoKSA9PiBob3N0TmFtZUxlbmd0aCArIDcsXG4gICAgLy8gQ29tbWFuZCByZXNwb25zZSArIGluY29taW5nIGNvbm5lY3Rpb24gKGJpbmQpXG4gICAgU29ja3M0UmVzcG9uc2U6IDgsIC8vIDIgaGVhZGVyICsgMiBwb3J0ICsgNCBpcFxufTtcbmV4cG9ydHMuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTID0gU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTO1xudmFyIFNvY2tzQ29tbWFuZDtcbihmdW5jdGlvbiAoU29ja3NDb21tYW5kKSB7XG4gICAgU29ja3NDb21tYW5kW1NvY2tzQ29tbWFuZFtcImNvbm5lY3RcIl0gPSAxXSA9IFwiY29ubmVjdFwiO1xuICAgIFNvY2tzQ29tbWFuZFtTb2Nrc0NvbW1hbmRbXCJiaW5kXCJdID0gMl0gPSBcImJpbmRcIjtcbiAgICBTb2Nrc0NvbW1hbmRbU29ja3NDb21tYW5kW1wiYXNzb2NpYXRlXCJdID0gM10gPSBcImFzc29jaWF0ZVwiO1xufSkoU29ja3NDb21tYW5kIHx8IChTb2Nrc0NvbW1hbmQgPSB7fSkpO1xuZXhwb3J0cy5Tb2Nrc0NvbW1hbmQgPSBTb2Nrc0NvbW1hbmQ7XG52YXIgU29ja3M0UmVzcG9uc2U7XG4oZnVuY3Rpb24gKFNvY2tzNFJlc3BvbnNlKSB7XG4gICAgU29ja3M0UmVzcG9uc2VbU29ja3M0UmVzcG9uc2VbXCJHcmFudGVkXCJdID0gOTBdID0gXCJHcmFudGVkXCI7XG4gICAgU29ja3M0UmVzcG9uc2VbU29ja3M0UmVzcG9uc2VbXCJGYWlsZWRcIl0gPSA5MV0gPSBcIkZhaWxlZFwiO1xuICAgIFNvY2tzNFJlc3BvbnNlW1NvY2tzNFJlc3BvbnNlW1wiUmVqZWN0ZWRcIl0gPSA5Ml0gPSBcIlJlamVjdGVkXCI7XG4gICAgU29ja3M0UmVzcG9uc2VbU29ja3M0UmVzcG9uc2VbXCJSZWplY3RlZElkZW50XCJdID0gOTNdID0gXCJSZWplY3RlZElkZW50XCI7XG59KShTb2NrczRSZXNwb25zZSB8fCAoU29ja3M0UmVzcG9uc2UgPSB7fSkpO1xuZXhwb3J0cy5Tb2NrczRSZXNwb25zZSA9IFNvY2tzNFJlc3BvbnNlO1xudmFyIFNvY2tzNUF1dGg7XG4oZnVuY3Rpb24gKFNvY2tzNUF1dGgpIHtcbiAgICBTb2NrczVBdXRoW1NvY2tzNUF1dGhbXCJOb0F1dGhcIl0gPSAwXSA9IFwiTm9BdXRoXCI7XG4gICAgU29ja3M1QXV0aFtTb2NrczVBdXRoW1wiR1NTQXBpXCJdID0gMV0gPSBcIkdTU0FwaVwiO1xuICAgIFNvY2tzNUF1dGhbU29ja3M1QXV0aFtcIlVzZXJQYXNzXCJdID0gMl0gPSBcIlVzZXJQYXNzXCI7XG59KShTb2NrczVBdXRoIHx8IChTb2NrczVBdXRoID0ge30pKTtcbmV4cG9ydHMuU29ja3M1QXV0aCA9IFNvY2tzNUF1dGg7XG5jb25zdCBTT0NLUzVfQ1VTVE9NX0FVVEhfU1RBUlQgPSAweDgwO1xuZXhwb3J0cy5TT0NLUzVfQ1VTVE9NX0FVVEhfU1RBUlQgPSBTT0NLUzVfQ1VTVE9NX0FVVEhfU1RBUlQ7XG5jb25zdCBTT0NLUzVfQ1VTVE9NX0FVVEhfRU5EID0gMHhmZTtcbmV4cG9ydHMuU09DS1M1X0NVU1RPTV9BVVRIX0VORCA9IFNPQ0tTNV9DVVNUT01fQVVUSF9FTkQ7XG5jb25zdCBTT0NLUzVfTk9fQUNDRVBUQUJMRV9BVVRIID0gMHhmZjtcbmV4cG9ydHMuU09DS1M1X05PX0FDQ0VQVEFCTEVfQVVUSCA9IFNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEg7XG52YXIgU29ja3M1UmVzcG9uc2U7XG4oZnVuY3Rpb24gKFNvY2tzNVJlc3BvbnNlKSB7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJHcmFudGVkXCJdID0gMF0gPSBcIkdyYW50ZWRcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkZhaWx1cmVcIl0gPSAxXSA9IFwiRmFpbHVyZVwiO1xuICAgIFNvY2tzNVJlc3BvbnNlW1NvY2tzNVJlc3BvbnNlW1wiTm90QWxsb3dlZFwiXSA9IDJdID0gXCJOb3RBbGxvd2VkXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJOZXR3b3JrVW5yZWFjaGFibGVcIl0gPSAzXSA9IFwiTmV0d29ya1VucmVhY2hhYmxlXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJIb3N0VW5yZWFjaGFibGVcIl0gPSA0XSA9IFwiSG9zdFVucmVhY2hhYmxlXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJDb25uZWN0aW9uUmVmdXNlZFwiXSA9IDVdID0gXCJDb25uZWN0aW9uUmVmdXNlZFwiO1xuICAgIFNvY2tzNVJlc3BvbnNlW1NvY2tzNVJlc3BvbnNlW1wiVFRMRXhwaXJlZFwiXSA9IDZdID0gXCJUVExFeHBpcmVkXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJDb21tYW5kTm90U3VwcG9ydGVkXCJdID0gN10gPSBcIkNvbW1hbmROb3RTdXBwb3J0ZWRcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkFkZHJlc3NOb3RTdXBwb3J0ZWRcIl0gPSA4XSA9IFwiQWRkcmVzc05vdFN1cHBvcnRlZFwiO1xufSkoU29ja3M1UmVzcG9uc2UgfHwgKFNvY2tzNVJlc3BvbnNlID0ge30pKTtcbmV4cG9ydHMuU29ja3M1UmVzcG9uc2UgPSBTb2NrczVSZXNwb25zZTtcbnZhciBTb2NrczVIb3N0VHlwZTtcbihmdW5jdGlvbiAoU29ja3M1SG9zdFR5cGUpIHtcbiAgICBTb2NrczVIb3N0VHlwZVtTb2NrczVIb3N0VHlwZVtcIklQdjRcIl0gPSAxXSA9IFwiSVB2NFwiO1xuICAgIFNvY2tzNUhvc3RUeXBlW1NvY2tzNUhvc3RUeXBlW1wiSG9zdG5hbWVcIl0gPSAzXSA9IFwiSG9zdG5hbWVcIjtcbiAgICBTb2NrczVIb3N0VHlwZVtTb2NrczVIb3N0VHlwZVtcIklQdjZcIl0gPSA0XSA9IFwiSVB2NlwiO1xufSkoU29ja3M1SG9zdFR5cGUgfHwgKFNvY2tzNUhvc3RUeXBlID0ge30pKTtcbmV4cG9ydHMuU29ja3M1SG9zdFR5cGUgPSBTb2NrczVIb3N0VHlwZTtcbnZhciBTb2Nrc0NsaWVudFN0YXRlO1xuKGZ1bmN0aW9uIChTb2Nrc0NsaWVudFN0YXRlKSB7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiQ3JlYXRlZFwiXSA9IDBdID0gXCJDcmVhdGVkXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiQ29ubmVjdGluZ1wiXSA9IDFdID0gXCJDb25uZWN0aW5nXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiQ29ubmVjdGVkXCJdID0gMl0gPSBcIkNvbm5lY3RlZFwiO1xuICAgIFNvY2tzQ2xpZW50U3RhdGVbU29ja3NDbGllbnRTdGF0ZVtcIlNlbnRJbml0aWFsSGFuZHNoYWtlXCJdID0gM10gPSBcIlNlbnRJbml0aWFsSGFuZHNoYWtlXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiUmVjZWl2ZWRJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2VcIl0gPSA0XSA9IFwiUmVjZWl2ZWRJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2VcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJTZW50QXV0aGVudGljYXRpb25cIl0gPSA1XSA9IFwiU2VudEF1dGhlbnRpY2F0aW9uXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiUmVjZWl2ZWRBdXRoZW50aWNhdGlvblJlc3BvbnNlXCJdID0gNl0gPSBcIlJlY2VpdmVkQXV0aGVudGljYXRpb25SZXNwb25zZVwiO1xuICAgIFNvY2tzQ2xpZW50U3RhdGVbU29ja3NDbGllbnRTdGF0ZVtcIlNlbnRGaW5hbEhhbmRzaGFrZVwiXSA9IDddID0gXCJTZW50RmluYWxIYW5kc2hha2VcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJSZWNlaXZlZEZpbmFsUmVzcG9uc2VcIl0gPSA4XSA9IFwiUmVjZWl2ZWRGaW5hbFJlc3BvbnNlXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiQm91bmRXYWl0aW5nRm9yQ29ubmVjdGlvblwiXSA9IDldID0gXCJCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiRXN0YWJsaXNoZWRcIl0gPSAxMF0gPSBcIkVzdGFibGlzaGVkXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiRGlzY29ubmVjdGVkXCJdID0gMTFdID0gXCJEaXNjb25uZWN0ZWRcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJFcnJvclwiXSA9IDk5XSA9IFwiRXJyb3JcIjtcbn0pKFNvY2tzQ2xpZW50U3RhdGUgfHwgKFNvY2tzQ2xpZW50U3RhdGUgPSB7fSkpO1xuZXhwb3J0cy5Tb2Nrc0NsaWVudFN0YXRlID0gU29ja3NDbGllbnRTdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJTT0NLUzVfTk9fQUNDRVBUQUJMRV9BVVRIIiwiU09DS1M1X0NVU1RPTV9BVVRIX0VORCIsIlNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVCIsIlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUyIsIlNvY2tzQ2xpZW50U3RhdGUiLCJTb2NrczVSZXNwb25zZSIsIlNvY2tzNUhvc3RUeXBlIiwiU29ja3M1QXV0aCIsIlNvY2tzNFJlc3BvbnNlIiwiU29ja3NDb21tYW5kIiwiRVJST1JTIiwiREVGQVVMVF9USU1FT1VUIiwiSW52YWxpZFNvY2tzQ29tbWFuZCIsIkludmFsaWRTb2Nrc0NvbW1hbmRGb3JPcGVyYXRpb24iLCJJbnZhbGlkU29ja3NDb21tYW5kQ2hhaW4iLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRGVzdGluYXRpb24iLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRXhpc3RpbmdTb2NrZXQiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zUHJveHkiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zVGltZW91dCIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94aWVzTGVuZ3RoIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhSYW5nZSIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoT3B0aW9ucyIsIk5lZ290aWF0aW9uRXJyb3IiLCJTb2NrZXRDbG9zZWQiLCJQcm94eUNvbm5lY3Rpb25UaW1lZE91dCIsIkludGVybmFsRXJyb3IiLCJJbnZhbGlkU29ja3M0SGFuZHNoYWtlUmVzcG9uc2UiLCJTb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbiIsIkludmFsaWRTb2NrczRJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSIsIlNvY2tzNFByb3h5UmVqZWN0ZWRJbmNvbWluZ0JvdW5kQ29ubmVjdGlvbiIsIkludmFsaWRTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2UiLCJJbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbiIsIkludmFsaWRTb2NrczVJbml0aWFsSGFuZHNoYWtlTm9BY2NlcHRlZEF1dGhUeXBlIiwiSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VVbmtub3duQXV0aFR5cGUiLCJTb2NrczVBdXRoZW50aWNhdGlvbkZhaWxlZCIsIkludmFsaWRTb2NrczVGaW5hbEhhbmRzaGFrZSIsIkludmFsaWRTb2NrczVGaW5hbEhhbmRzaGFrZVJlamVjdGVkIiwiSW52YWxpZFNvY2tzNUluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlIiwiU29ja3M1UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9uIiwiU29ja3M1SW5pdGlhbEhhbmRzaGFrZVJlc3BvbnNlIiwiU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvblJlc3BvbnNlIiwiU29ja3M1UmVzcG9uc2VIZWFkZXIiLCJTb2NrczVSZXNwb25zZUlQdjQiLCJTb2NrczVSZXNwb25zZUlQdjYiLCJTb2NrczVSZXNwb25zZUhvc3RuYW1lIiwiaG9zdE5hbWVMZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/constants.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/helpers.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/helpers.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.validateSocksClientChainOptions = exports.validateSocksClientOptions = void 0;\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/util.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/constants.js\");\nconst stream = __webpack_require__(/*! stream */ \"stream\");\n/**\n * Validates the provided SocksClientOptions\n * @param options { SocksClientOptions }\n * @param acceptedCommands { string[] } A list of accepted SocksProxy commands.\n */ function validateSocksClientOptions(options, acceptedCommands = [\n    \"connect\",\n    \"bind\",\n    \"associate\"\n]) {\n    // Check SOCKs command option.\n    if (!constants_1.SocksCommand[options.command]) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommand, options);\n    }\n    // Check SocksCommand for acceptable command.\n    if (acceptedCommands.indexOf(options.command) === -1) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommandForOperation, options);\n    }\n    // Check destination\n    if (!isValidSocksRemoteHost(options.destination)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsDestination, options);\n    }\n    // Check SOCKS proxy to use\n    if (!isValidSocksProxy(options.proxy)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxy, options);\n    }\n    // Validate custom auth (if set)\n    validateCustomProxyAuth(options.proxy, options);\n    // Check timeout\n    if (options.timeout && !isValidTimeoutValue(options.timeout)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsTimeout, options);\n    }\n    // Check existing_socket (if provided)\n    if (options.existing_socket && !(options.existing_socket instanceof stream.Duplex)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsExistingSocket, options);\n    }\n}\nexports.validateSocksClientOptions = validateSocksClientOptions;\n/**\n * Validates the SocksClientChainOptions\n * @param options { SocksClientChainOptions }\n */ function validateSocksClientChainOptions(options) {\n    // Only connect is supported when chaining.\n    if (options.command !== \"connect\") {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommandChain, options);\n    }\n    // Check destination\n    if (!isValidSocksRemoteHost(options.destination)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsDestination, options);\n    }\n    // Validate proxies (length)\n    if (!(options.proxies && Array.isArray(options.proxies) && options.proxies.length >= 2)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxiesLength, options);\n    }\n    // Validate proxies\n    options.proxies.forEach((proxy)=>{\n        if (!isValidSocksProxy(proxy)) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxy, options);\n        }\n        // Validate custom auth (if set)\n        validateCustomProxyAuth(proxy, options);\n    });\n    // Check timeout\n    if (options.timeout && !isValidTimeoutValue(options.timeout)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsTimeout, options);\n    }\n}\nexports.validateSocksClientChainOptions = validateSocksClientChainOptions;\nfunction validateCustomProxyAuth(proxy, options) {\n    if (proxy.custom_auth_method !== undefined) {\n        // Invalid auth method range\n        if (proxy.custom_auth_method < constants_1.SOCKS5_CUSTOM_AUTH_START || proxy.custom_auth_method > constants_1.SOCKS5_CUSTOM_AUTH_END) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthRange, options);\n        }\n        // Missing custom_auth_request_handler\n        if (proxy.custom_auth_request_handler === undefined || typeof proxy.custom_auth_request_handler !== \"function\") {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n        // Missing custom_auth_response_size\n        if (proxy.custom_auth_response_size === undefined) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n        // Missing/invalid custom_auth_response_handler\n        if (proxy.custom_auth_response_handler === undefined || typeof proxy.custom_auth_response_handler !== \"function\") {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n    }\n}\n/**\n * Validates a SocksRemoteHost\n * @param remoteHost { SocksRemoteHost }\n */ function isValidSocksRemoteHost(remoteHost) {\n    return remoteHost && typeof remoteHost.host === \"string\" && typeof remoteHost.port === \"number\" && remoteHost.port >= 0 && remoteHost.port <= 65535;\n}\n/**\n * Validates a SocksProxy\n * @param proxy { SocksProxy }\n */ function isValidSocksProxy(proxy) {\n    return proxy && (typeof proxy.host === \"string\" || typeof proxy.ipaddress === \"string\") && typeof proxy.port === \"number\" && proxy.port >= 0 && proxy.port <= 65535 && (proxy.type === 4 || proxy.type === 5);\n}\n/**\n * Validates a timeout value.\n * @param value { Number }\n */ function isValidTimeoutValue(value) {\n    return typeof value === \"number\" && value > 0;\n} //# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsdUNBQXVDLEdBQUdBLGtDQUFrQyxHQUFHLEtBQUs7QUFDcEYsTUFBTUksU0FBU0MsbUJBQU9BLENBQUMsa0dBQVE7QUFDL0IsTUFBTUMsY0FBY0QsbUJBQU9BLENBQUMsNEdBQWE7QUFDekMsTUFBTUUsU0FBU0YsbUJBQU9BLENBQUMsc0JBQVE7QUFDL0I7Ozs7Q0FJQyxHQUNELFNBQVNGLDJCQUEyQkssT0FBTyxFQUFFQyxtQkFBbUI7SUFBQztJQUFXO0lBQVE7Q0FBWTtJQUM1Riw4QkFBOEI7SUFDOUIsSUFBSSxDQUFDSCxZQUFZSSxZQUFZLENBQUNGLFFBQVFHLE9BQU8sQ0FBQyxFQUFFO1FBQzVDLE1BQU0sSUFBSVAsT0FBT1EsZ0JBQWdCLENBQUNOLFlBQVlPLE1BQU0sQ0FBQ0MsbUJBQW1CLEVBQUVOO0lBQzlFO0lBQ0EsNkNBQTZDO0lBQzdDLElBQUlDLGlCQUFpQk0sT0FBTyxDQUFDUCxRQUFRRyxPQUFPLE1BQU0sQ0FBQyxHQUFHO1FBQ2xELE1BQU0sSUFBSVAsT0FBT1EsZ0JBQWdCLENBQUNOLFlBQVlPLE1BQU0sQ0FBQ0csK0JBQStCLEVBQUVSO0lBQzFGO0lBQ0Esb0JBQW9CO0lBQ3BCLElBQUksQ0FBQ1MsdUJBQXVCVCxRQUFRVSxXQUFXLEdBQUc7UUFDOUMsTUFBTSxJQUFJZCxPQUFPUSxnQkFBZ0IsQ0FBQ04sWUFBWU8sTUFBTSxDQUFDTSxvQ0FBb0MsRUFBRVg7SUFDL0Y7SUFDQSwyQkFBMkI7SUFDM0IsSUFBSSxDQUFDWSxrQkFBa0JaLFFBQVFhLEtBQUssR0FBRztRQUNuQyxNQUFNLElBQUlqQixPQUFPUSxnQkFBZ0IsQ0FBQ04sWUFBWU8sTUFBTSxDQUFDUyw4QkFBOEIs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QUlhLE1BQU13Qiw0QkFBNEIsS0FBS1AsYUFDdkMsT0FBT2pCLE1BQU13Qiw0QkFBNEIsS0FBSyxZQUFZO1lBQzFELE1BQU0sSUFBSXpDLE9BQU9RLGdCQUFnQixDQUFDTixZQUFZTyxNQUFNLENBQUM4QiwwQ0FBMEMsRUFBRW5DO1FBQ3JHO0lBQ0o7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNTLHVCQUF1QjZCLFVBQVU7SUFDdEMsT0FBUUEsY0FDSixPQUFPQSxXQUFXQyxJQUFJLEtBQUssWUFDM0IsT0FBT0QsV0FBV0UsSUFBSSxLQUFLLFlBQzNCRixXQUFXRSxJQUFJLElBQUksS0FDbkJGLFdBQVdFLElBQUksSUFBSTtBQUMzQjtBQUNBOzs7Q0FHQyxHQUNELFNBQVM1QixrQkFBa0JDLEtBQUs7SUFDNUIsT0FBUUEsU0FDSCxRQUFPQSxNQUFNMEIsSUFBSSxLQUFLLFlBQVksT0FBTzFCLE1BQU00QixTQUFTLEtBQUssUUFBTyxLQUNyRSxPQUFPNUIsTUFBTTJCLElBQUksS0FBSyxZQUN0QjNCLE1BQU0yQixJQUFJLElBQUksS0FDZDNCLE1BQU0yQixJQUFJLElBQUksU0FDYjNCLENBQUFBLE1BQU02QixJQUFJLEtBQUssS0FBSzdCLE1BQU02QixJQUFJLEtBQUs7QUFDNUM7QUFDQTs7O0NBR0MsR0FDRCxTQUFTekIsb0JBQW9CeEIsS0FBSztJQUM5QixPQUFPLE9BQU9BLFVBQVUsWUFBWUEsUUFBUTtBQUNoRCxFQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc29ja3NAMi43LjEvbm9kZV9tb2R1bGVzL3NvY2tzL2J1aWxkL2NvbW1vbi9oZWxwZXJzLmpzPzYwM2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlU29ja3NDbGllbnRDaGFpbk9wdGlvbnMgPSBleHBvcnRzLnZhbGlkYXRlU29ja3NDbGllbnRPcHRpb25zID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3RyZWFtID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbi8qKlxuICogVmFsaWRhdGVzIHRoZSBwcm92aWRlZCBTb2Nrc0NsaWVudE9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zIHsgU29ja3NDbGllbnRPcHRpb25zIH1cbiAqIEBwYXJhbSBhY2NlcHRlZENvbW1hbmRzIHsgc3RyaW5nW10gfSBBIGxpc3Qgb2YgYWNjZXB0ZWQgU29ja3NQcm94eSBjb21tYW5kcy5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMob3B0aW9ucywgYWNjZXB0ZWRDb21tYW5kcyA9IFsnY29ubmVjdCcsICdiaW5kJywgJ2Fzc29jaWF0ZSddKSB7XG4gICAgLy8gQ2hlY2sgU09DS3MgY29tbWFuZCBvcHRpb24uXG4gICAgaWYgKCFjb25zdGFudHNfMS5Tb2Nrc0NvbW1hbmRbb3B0aW9ucy5jb21tYW5kXSkge1xuICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NvbW1hbmQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBDaGVjayBTb2Nrc0NvbW1hbmQgZm9yIGFjY2VwdGFibGUgY29tbWFuZC5cbiAgICBpZiAoYWNjZXB0ZWRDb21tYW5kcy5pbmRleE9mKG9wdGlvbnMuY29tbWFuZCkgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ29tbWFuZEZvck9wZXJhdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIENoZWNrIGRlc3RpbmF0aW9uXG4gICAgaWYgKCFpc1ZhbGlkU29ja3NSZW1vdGVIb3N0KG9wdGlvbnMuZGVzdGluYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0Rlc3RpbmF0aW9uLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgU09DS1MgcHJveHkgdG8gdXNlXG4gICAgaWYgKCFpc1ZhbGlkU29ja3NQcm94eShvcHRpb25zLnByb3h5KSkge1xuICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94eSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBhdXRoIChpZiBzZXQpXG4gICAgdmFsaWRhdGVDdXN0b21Qcm94eUF1dGgob3B0aW9ucy5wcm94eSwgb3B0aW9ucyk7XG4gICAgLy8gQ2hlY2sgdGltZW91dFxuICAgIGlmIChvcHRpb25zLnRpbWVvdXQgJiYgIWlzVmFsaWRUaW1lb3V0VmFsdWUob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNUaW1lb3V0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgZXhpc3Rpbmdfc29ja2V0IChpZiBwcm92aWRlZClcbiAgICBpZiAob3B0aW9ucy5leGlzdGluZ19zb2NrZXQgJiZcbiAgICAgICAgIShvcHRpb25zLmV4aXN0aW5nX3NvY2tldCBpbnN0YW5jZW9mIHN0cmVhbS5EdXBsZXgpKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0V4aXN0aW5nU29ja2V0LCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlU29ja3NDbGllbnRPcHRpb25zID0gdmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnM7XG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgU29ja3NDbGllbnRDaGFpbk9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zIHsgU29ja3NDbGllbnRDaGFpbk9wdGlvbnMgfVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zKG9wdGlvbnMpIHtcbiAgICAvLyBPbmx5IGNvbm5lY3QgaXMgc3VwcG9ydGVkIHdoZW4gY2hhaW5pbmcuXG4gICAgaWYgKG9wdGlvbnMuY29tbWFuZCAhPT0gJ2Nvbm5lY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ29tbWFuZENoYWluLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgZGVzdGluYXRpb25cbiAgICBpZiAoIWlzVmFsaWRTb2Nrc1JlbW90ZUhvc3Qob3B0aW9ucy5kZXN0aW5hdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRGVzdGluYXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSBwcm94aWVzIChsZW5ndGgpXG4gICAgaWYgKCEob3B0aW9ucy5wcm94aWVzICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkob3B0aW9ucy5wcm94aWVzKSAmJlxuICAgICAgICBvcHRpb25zLnByb3hpZXMubGVuZ3RoID49IDIpKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3hpZXNMZW5ndGgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSBwcm94aWVzXG4gICAgb3B0aW9ucy5wcm94aWVzLmZvckVhY2goKHByb3h5KSA9PiB7XG4gICAgICAgIGlmICghaXNWYWxpZFNvY2tzUHJveHkocHJveHkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94eSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhdGUgY3VzdG9tIGF1dGggKGlmIHNldClcbiAgICAgICAgdmFsaWRhdGVDdXN0b21Qcm94eUF1dGgocHJveHksIG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIC8vIENoZWNrIHRpbWVvdXRcbiAgICBpZiAob3B0aW9ucy50aW1lb3V0ICYmICFpc1ZhbGlkVGltZW91dFZhbHVlKG9wdGlvbnMudGltZW91dCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zVGltZW91dCwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zID0gdmFsaWRhdGVTb2Nrc0NsaWVudENoYWluT3B0aW9ucztcbmZ1bmN0aW9uIHZhbGlkYXRlQ3VzdG9tUHJveHlBdXRoKHByb3h5LCBvcHRpb25zKSB7XG4gICAgaWYgKHByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIEludmFsaWQgYXV0aCBtZXRob2QgcmFuZ2VcbiAgICAgICAgaWYgKHByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCA8IGNvbnN0YW50c18xLlNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVCB8fFxuICAgICAgICAgICAgcHJveHkuY3VzdG9tX2F1dGhfbWV0aG9kID4gY29uc3RhbnRzXzEuU09DS1M1X0NVU1RPTV9BVVRIX0VORCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aFJhbmdlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNaXNzaW5nIGN1c3RvbV9hdXRoX3JlcXVlc3RfaGFuZGxlclxuICAgICAgICBpZiAocHJveHkuY3VzdG9tX2F1dGhfcmVxdWVzdF9oYW5kbGVyID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHR5cGVvZiBwcm94eS5jdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNaXNzaW5nIGN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemVcbiAgICAgICAgaWYgKHByb3h5LmN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1pc3NpbmcvaW52YWxpZCBjdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyXG4gICAgICAgIGlmIChwcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHR5cGVvZiBwcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIFNvY2tzUmVtb3RlSG9zdFxuICogQHBhcmFtIHJlbW90ZUhvc3QgeyBTb2Nrc1JlbW90ZUhvc3QgfVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkU29ja3NSZW1vdGVIb3N0KHJlbW90ZUhvc3QpIHtcbiAgICByZXR1cm4gKHJlbW90ZUhvc3QgJiZcbiAgICAgICAgdHlwZW9mIHJlbW90ZUhvc3QuaG9zdCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgdHlwZW9mIHJlbW90ZUhvc3QucG9ydCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgcmVtb3RlSG9zdC5wb3J0ID49IDAgJiZcbiAgICAgICAgcmVtb3RlSG9zdC5wb3J0IDw9IDY1NTM1KTtcbn1cbi8qKlxuICogVmFsaWRhdGVzIGEgU29ja3NQcm94eVxuICogQHBhcmFtIHByb3h5IHsgU29ja3NQcm94eSB9XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRTb2Nrc1Byb3h5KHByb3h5KSB7XG4gICAgcmV0dXJuIChwcm94eSAmJlxuICAgICAgICAodHlwZW9mIHByb3h5Lmhvc3QgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm94eS5pcGFkZHJlc3MgPT09ICdzdHJpbmcnKSAmJlxuICAgICAgICB0eXBlb2YgcHJveHkucG9ydCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgcHJveHkucG9ydCA+PSAwICYmXG4gICAgICAgIHByb3h5LnBvcnQgPD0gNjU1MzUgJiZcbiAgICAgICAgKHByb3h5LnR5cGUgPT09IDQgfHwgcHJveHkudHlwZSA9PT0gNSkpO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSB0aW1lb3V0IHZhbHVlLlxuICogQHBhcmFtIHZhbHVlIHsgTnVtYmVyIH1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFRpbWVvdXRWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID4gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidmFsaWRhdGVTb2Nrc0NsaWVudENoYWluT3B0aW9ucyIsInZhbGlkYXRlU29ja3NDbGllbnRPcHRpb25zIiwidXRpbF8xIiwicmVxdWlyZSIsImNvbnN0YW50c18xIiwic3RyZWFtIiwib3B0aW9ucyIsImFjY2VwdGVkQ29tbWFuZHMiLCJTb2Nrc0NvbW1hbmQiLCJjb21tYW5kIiwiU29ja3NDbGllbnRFcnJvciIsIkVSUk9SUyIsIkludmFsaWRTb2Nrc0NvbW1hbmQiLCJpbmRleE9mIiwiSW52YWxpZFNvY2tzQ29tbWFuZEZvck9wZXJhdGlvbiIsImlzVmFsaWRTb2Nrc1JlbW90ZUhvc3QiLCJkZXN0aW5hdGlvbiIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNEZXN0aW5hdGlvbiIsImlzVmFsaWRTb2Nrc1Byb3h5IiwicHJveHkiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zUHJveHkiLCJ2YWxpZGF0ZUN1c3RvbVByb3h5QXV0aCIsInRpbWVvdXQiLCJpc1ZhbGlkVGltZW91dFZhbHVlIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1RpbWVvdXQiLCJleGlzdGluZ19zb2NrZXQiLCJEdXBsZXgiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRXhpc3RpbmdTb2NrZXQiLCJJbnZhbGlkU29ja3NDb21tYW5kQ2hhaW4iLCJwcm94aWVzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3hpZXNMZW5ndGgiLCJmb3JFYWNoIiwiY3VzdG9tX2F1dGhfbWV0aG9kIiwidW5kZWZpbmVkIiwiU09DS1M1X0NVU1RPTV9BVVRIX1NUQVJUIiwiU09DS1M1X0NVU1RPTV9BVVRIX0VORCIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoUmFuZ2UiLCJjdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aE9wdGlvbnMiLCJjdXN0b21fYXV0aF9yZXNwb25zZV9zaXplIiwiY3VzdG9tX2F1dGhfcmVzcG9uc2VfaGFuZGxlciIsInJlbW90ZUhvc3QiLCJob3N0IiwicG9ydCIsImlwYWRkcmVzcyIsInR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/helpers.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/receivebuffer.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/receivebuffer.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ReceiveBuffer = void 0;\nclass ReceiveBuffer {\n    constructor(size = 4096){\n        this.buffer = Buffer.allocUnsafe(size);\n        this.offset = 0;\n        this.originalSize = size;\n    }\n    get length() {\n        return this.offset;\n    }\n    append(data) {\n        if (!Buffer.isBuffer(data)) {\n            throw new Error(\"Attempted to append a non-buffer instance to ReceiveBuffer.\");\n        }\n        if (this.offset + data.length >= this.buffer.length) {\n            const tmp = this.buffer;\n            this.buffer = Buffer.allocUnsafe(Math.max(this.buffer.length + this.originalSize, this.buffer.length + data.length));\n            tmp.copy(this.buffer);\n        }\n        data.copy(this.buffer, this.offset);\n        return this.offset += data.length;\n    }\n    peek(length) {\n        if (length > this.offset) {\n            throw new Error(\"Attempted to read beyond the bounds of the managed internal data.\");\n        }\n        return this.buffer.slice(0, length);\n    }\n    get(length) {\n        if (length > this.offset) {\n            throw new Error(\"Attempted to read beyond the bounds of the managed internal data.\");\n        }\n        const value = Buffer.allocUnsafe(length);\n        this.buffer.slice(0, length).copy(value);\n        this.buffer.copyWithin(0, length, length + this.offset - length);\n        this.offset -= length;\n        return value;\n    }\n}\nexports.ReceiveBuffer = ReceiveBuffer; //# sourceMappingURL=receivebuffer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vcmVjZWl2ZWJ1ZmZlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQscUJBQXFCLEdBQUcsS0FBSztBQUM3QixNQUFNRTtJQUNGQyxZQUFZQyxPQUFPLElBQUksQ0FBRTtRQUNyQixJQUFJLENBQUNDLE1BQU0sR0FBR0MsT0FBT0MsV0FBVyxDQUFDSDtRQUNqQyxJQUFJLENBQUNJLE1BQU0sR0FBRztRQUNkLElBQUksQ0FBQ0MsWUFBWSxHQUFHTDtJQUN4QjtJQUNBLElBQUlNLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQ0YsTUFBTTtJQUN0QjtJQUNBRyxPQUFPQyxJQUFJLEVBQUU7UUFDVCxJQUFJLENBQUNOLE9BQU9PLFFBQVEsQ0FBQ0QsT0FBTztZQUN4QixNQUFNLElBQUlFLE1BQU07UUFDcEI7UUFDQSxJQUFJLElBQUksQ0FBQ04sTUFBTSxHQUFHSSxLQUFLRixNQUFNLElBQUksSUFBSSxDQUFDTCxNQUFNLENBQUNLLE1BQU0sRUFBRTtZQUNqRCxNQUFNSyxNQUFNLElBQUksQ0FBQ1YsTUFBTTtZQUN2QixJQUFJLENBQUNBLE1BQU0sR0FBR0MsT0FBT0MsV0FBVyxDQUFDUyxLQUFLQyxHQUFHLENBQUMsSUFBSSxDQUFDWixNQUFNLENBQUNLLE1BQU0sR0FBRyxJQUFJLENBQUNELFlBQVksRUFBRSxJQUFJLENBQUNKLE1BQU0sQ0FBQ0ssTUFBTSxHQUFHRSxLQUFLRixNQUFNO1lBQ2xISyxJQUFJRyxJQUFJLENBQUMsSUFBSSxDQUFDYixNQUFNO1FBQ3hCO1FBQ0FPLEtBQUtNLElBQUksQ0FBQyxJQUFJLENBQUNiLE1BQU0sRUFBRSxJQUFJLENBQUNHLE1BQU07UUFDbEMsT0FBUSxJQUFJLENBQUNBLE1BQU0sSUFBSUksS0FBS0YsTUFBTTtJQUN0QztJQUNBUyxLQUFLVCxNQUFNLEVBQUU7UUFDVCxJQUFJQSxTQUFTLElBQUksQ0FBQ0YsTUFBTSxFQUFFO1lBQ3RCLE1BQU0sSUFBSU0sTUFBTTtRQUNwQjtRQUNBLE9BQU8sSUFBSSxDQUFDVCxNQUFNLENBQUNlLEtBQUssQ0FBQyxHQUFHVjtJQUNoQztJQUNBVyxJQUFJWCxNQUFNLEVBQUU7UUFDUixJQUFJQSxTQUFTLElBQUksQ0FBQ0YsTUFBTSxFQUFFO1lBQ3RCLE1BQU0sSUFBSU0sTUFBTTtRQUNwQjtRQUNBLE1BQU1iLFFBQVFLLE9BQU9DLFdBQVcsQ0FBQ0c7UUFDakMsSUFBSSxDQUFDTCxNQUFNLENBQUNlLEtBQUssQ0FBQyxHQUFHVixRQUFRUSxJQUFJLENBQUNqQjtRQUNsQyxJQUFJLENBQUNJLE1BQU0sQ0FBQ2lCLFVBQVUsQ0FBQyxHQUFHWixRQUFRQSxTQUFTLElBQUksQ0FBQ0YsTUFBTSxHQUFHRTtRQUN6RCxJQUFJLENBQUNGLE1BQU0sSUFBSUU7UUFDZixPQUFPVDtJQUNYO0FBQ0o7QUFDQUQscUJBQXFCLEdBQUdFLGVBQ3hCLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc29ja3NAMi43LjEvbm9kZV9tb2R1bGVzL3NvY2tzL2J1aWxkL2NvbW1vbi9yZWNlaXZlYnVmZmVyLmpzPzg1YzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlY2VpdmVCdWZmZXIgPSB2b2lkIDA7XG5jbGFzcyBSZWNlaXZlQnVmZmVyIHtcbiAgICBjb25zdHJ1Y3RvcihzaXplID0gNDA5Nikge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldDtcbiAgICB9XG4gICAgYXBwZW5kKGRhdGEpIHtcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGFwcGVuZCBhIG5vbi1idWZmZXIgaW5zdGFuY2UgdG8gUmVjZWl2ZUJ1ZmZlci4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vZmZzZXQgKyBkYXRhLmxlbmd0aCA+PSB0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IHRoaXMuYnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoTWF0aC5tYXgodGhpcy5idWZmZXIubGVuZ3RoICsgdGhpcy5vcmlnaW5hbFNpemUsIHRoaXMuYnVmZmVyLmxlbmd0aCArIGRhdGEubGVuZ3RoKSk7XG4gICAgICAgICAgICB0bXAuY29weSh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5jb3B5KHRoaXMuYnVmZmVyLCB0aGlzLm9mZnNldCk7XG4gICAgICAgIHJldHVybiAodGhpcy5vZmZzZXQgKz0gZGF0YS5sZW5ndGgpO1xuICAgIH1cbiAgICBwZWVrKGxlbmd0aCkge1xuICAgICAgICBpZiAobGVuZ3RoID4gdGhpcy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHJlYWQgYmV5b25kIHRoZSBib3VuZHMgb2YgdGhlIG1hbmFnZWQgaW50ZXJuYWwgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZ2V0KGxlbmd0aCkge1xuICAgICAgICBpZiAobGVuZ3RoID4gdGhpcy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHJlYWQgYmV5b25kIHRoZSBib3VuZHMgb2YgdGhlIG1hbmFnZWQgaW50ZXJuYWwgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpO1xuICAgICAgICB0aGlzLmJ1ZmZlci5zbGljZSgwLCBsZW5ndGgpLmNvcHkodmFsdWUpO1xuICAgICAgICB0aGlzLmJ1ZmZlci5jb3B5V2l0aGluKDAsIGxlbmd0aCwgbGVuZ3RoICsgdGhpcy5vZmZzZXQgLSBsZW5ndGgpO1xuICAgICAgICB0aGlzLm9mZnNldCAtPSBsZW5ndGg7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLlJlY2VpdmVCdWZmZXIgPSBSZWNlaXZlQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjZWl2ZWJ1ZmZlci5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJSZWNlaXZlQnVmZmVyIiwiY29uc3RydWN0b3IiLCJzaXplIiwiYnVmZmVyIiwiQnVmZmVyIiwiYWxsb2NVbnNhZmUiLCJvZmZzZXQiLCJvcmlnaW5hbFNpemUiLCJsZW5ndGgiLCJhcHBlbmQiLCJkYXRhIiwiaXNCdWZmZXIiLCJFcnJvciIsInRtcCIsIk1hdGgiLCJtYXgiLCJjb3B5IiwicGVlayIsInNsaWNlIiwiZ2V0IiwiY29weVdpdGhpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/receivebuffer.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/util.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/util.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.shuffleArray = exports.SocksClientError = void 0;\n/**\n * Error wrapper for SocksClient\n */ class SocksClientError extends Error {\n    constructor(message, options){\n        super(message);\n        this.options = options;\n    }\n}\nexports.SocksClientError = SocksClientError;\n/**\n * Shuffles a given array.\n * @param array The array to shuffle.\n */ function shuffleArray(array) {\n    for(let i = array.length - 1; i > 0; i--){\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [\n            array[j],\n            array[i]\n        ];\n    }\n}\nexports.shuffleArray = shuffleArray; //# sourceMappingURL=util.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vdXRpbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsb0JBQW9CLEdBQUdBLHdCQUF3QixHQUFHLEtBQUs7QUFDdkQ7O0NBRUMsR0FDRCxNQUFNRyx5QkFBeUJDO0lBQzNCQyxZQUFZQyxPQUFPLEVBQUVDLE9BQU8sQ0FBRTtRQUMxQixLQUFLLENBQUNEO1FBQ04sSUFBSSxDQUFDQyxPQUFPLEdBQUdBO0lBQ25CO0FBQ0o7QUFDQVAsd0JBQXdCLEdBQUdHO0FBQzNCOzs7Q0FHQyxHQUNELFNBQVNELGFBQWFNLEtBQUs7SUFDdkIsSUFBSyxJQUFJQyxJQUFJRCxNQUFNRSxNQUFNLEdBQUcsR0FBR0QsSUFBSSxHQUFHQSxJQUFLO1FBQ3ZDLE1BQU1FLElBQUlDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFNTCxDQUFBQSxJQUFJO1FBQzFDLENBQUNELEtBQUssQ0FBQ0MsRUFBRSxFQUFFRCxLQUFLLENBQUNHLEVBQUUsQ0FBQyxHQUFHO1lBQUNILEtBQUssQ0FBQ0csRUFBRTtZQUFFSCxLQUFLLENBQUNDLEVBQUU7U0FBQztJQUMvQztBQUNKO0FBQ0FULG9CQUFvQixHQUFHRSxjQUN2QixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9jb21tb24vdXRpbC5qcz8yMWIzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaHVmZmxlQXJyYXkgPSBleHBvcnRzLlNvY2tzQ2xpZW50RXJyb3IgPSB2b2lkIDA7XG4vKipcbiAqIEVycm9yIHdyYXBwZXIgZm9yIFNvY2tzQ2xpZW50XG4gKi9cbmNsYXNzIFNvY2tzQ2xpZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG59XG5leHBvcnRzLlNvY2tzQ2xpZW50RXJyb3IgPSBTb2Nrc0NsaWVudEVycm9yO1xuLyoqXG4gKiBTaHVmZmxlcyBhIGdpdmVuIGFycmF5LlxuICogQHBhcmFtIGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICovXG5mdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07XG4gICAgfVxufVxuZXhwb3J0cy5zaHVmZmxlQXJyYXkgPSBzaHVmZmxlQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNodWZmbGVBcnJheSIsIlNvY2tzQ2xpZW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJhcnJheSIsImkiLCJsZW5ndGgiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/common/util.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/index.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __createBinding = (void 0) && (void 0).__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __exportStar = (void 0) && (void 0).__exportStar || function(m, exports1) {\n    for(var p in m)if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n__exportStar(__webpack_require__(/*! ./client/socksclient */ \"(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/client/socksclient.js\"), exports); //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NvY2tzQDIuNy4xL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLGtCQUFrQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGVBQWUsSUFBTUMsQ0FBQUEsT0FBT0MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0IsSUFBSUcsT0FBT1AsT0FBT1Esd0JBQXdCLENBQUNMLEdBQUdDO0lBQzlDLElBQUksQ0FBQ0csUUFBUyxVQUFTQSxPQUFPLENBQUNKLEVBQUVNLFVBQVUsR0FBR0YsS0FBS0csUUFBUSxJQUFJSCxLQUFLSSxZQUFZLEdBQUc7UUFDakZKLE9BQU87WUFBRUssWUFBWTtZQUFNQyxLQUFLO2dCQUFhLE9BQU9WLENBQUMsQ0FBQ0MsRUFBRTtZQUFFO1FBQUU7SUFDOUQ7SUFDQUosT0FBT2MsY0FBYyxDQUFDWixHQUFHRyxJQUFJRTtBQUNqQyxJQUFNLFNBQVNMLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDdEIsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JGLENBQUMsQ0FBQ0csR0FBRyxHQUFHRixDQUFDLENBQUNDLEVBQUU7QUFDaEIsQ0FBQztBQUNELElBQUlXLGVBQWUsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxZQUFZLElBQUssU0FBU1osQ0FBQyxFQUFFYSxRQUFPO0lBQ2pFLElBQUssSUFBSUMsS0FBS2QsRUFBRyxJQUFJYyxNQUFNLGFBQWEsQ0FBQ2pCLE9BQU9rQixTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSixVQUFTQyxJQUFJbEIsZ0JBQWdCaUIsVUFBU2IsR0FBR2M7QUFDM0g7QUFDQWpCLDhDQUE2QztJQUFFcUIsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RE4sYUFBYU8sbUJBQU9BLENBQUMsdUhBQXNCLEdBQUdOLFVBQzlDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc29ja3NAMi43LjEvbm9kZV9tb2R1bGVzL3NvY2tzL2J1aWxkL2luZGV4LmpzPzc3YTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jbGllbnQvc29ja3NjbGllbnRcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIl9fY3JlYXRlQmluZGluZyIsIk9iamVjdCIsImNyZWF0ZSIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9fZXNNb2R1bGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZXhwb3J0U3RhciIsImV4cG9ydHMiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidmFsdWUiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/socks@2.7.1/node_modules/socks/build/index.js\n");

/***/ })

};
;